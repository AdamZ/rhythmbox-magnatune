2002-10-27  James Willcox  <jwillcox@gnome.org>

	* shell/rb-shell.c: (rb_shell_toolbar_changed_cb):

	Make volume control work again with remotes.

2002-10-27  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	* library/rb-node.c:

	Some more inlines.
	
	* shell/rb-shell.c: (rb_shell_corba_quit):

	Lock gdk threads on corba quit.

2002-10-27  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c: (get_path_real),
	(rb_tree_model_node_get_path), (root_child_removed_cb),
	(root_child_added_cb), (rb_tree_model_node_update_node):
	* library/rb-node.c: (node_from_id_real), (rb_node_get_from_id),
	(rb_node_new_from_xml), (get_child_index_real),
	(rb_node_get_next_child), (rb_node_get_previous_child):

	Inline some very frequently used functions.

2002-10-27  Kristian Rietveld  <kris@gtk.org>

	* lib/widgets/rb-cell-renderer-rating.c
	(rb_cell_renderer_rating_get_size): only set values of *width and
	*height if width and height are not NULL.

2002-10-27  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_set_property),
	(rb_node_view_construct), (filter_changed_cb),
	(after_filter_changed_cb), (dumb_sort_func),
	(tree_view_size_allocate_cb):

	Hack to make filter switching even faster, many thanks to Kris!
	(not yet finished though).
	Also turned off smart column sizing for now, since it was slowing things
	down a lot.
	
	* library/rb-library-main-thread.c: (thread_main):

	Fix this thread eating 90% cpu.

2002-10-26  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-node-view.c: (rb_node_view_sort_func):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_get_column_type),
	(rb_tree_model_node_get_value),
	(rb_tree_model_node_column_get_type):
	* lib/widgets/rb-tree-model-node.h:
	* library/rb-library.h:
	* library/rb-node-song.c: (set_title), (set_genre), (set_artist),
	(set_album):
	* library/rb-node-song.h:
	* library/rb-node.h:
	* views/rb-library-view.c: (rb_library_view_search_cb):

	Also do fast sorting for the album and artist views.

2002-10-26  Jorn Baayen  <jorn@nl.linux.org>

	* library/Makefile.am:
	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library-xml-thread.c:
	* library/rb-library-xml-thread.h:
	* library/rb-library.c: (rb_library_class_init), (rb_library_init),
	(rb_library_release_brakes), (rb_library_finalize),
	(rb_library_handle_songs), (rb_library_load):
	* library/rb-library.h:
	* library/rb-node-filter.c: (rb_node_filter_expression_new),
	(rb_node_filter_expression_evaluate):
	* library/rb-node-filter.h:
	* library/rb-node-song.c: (set_genre), (set_artist):
	* library/rb-node.c: (rb_node_get_from_id_real),
	(rb_node_get_from_id), (rb_node_new_from_xml), (id_factory_set_to):
	* shell/rb-shell.c: (rb_shell_construct):
	* views/rb-library-view.c: (albums_filter):

	XML loading speedups.

2002-10-26  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:

	Strings polish.
	
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):

	Small buggie.

2002-10-26  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-sidebar.c: (rb_sidebar_remove):

	Fix crash on exit.

2002-10-26  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:
	* lib/rb-dialog.c: (rb_ask_string):
	* lib/widgets/rb-node-view.c: (rb_node_view_sort_func):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_get_column_type),
	(rb_tree_model_node_get_value),
	(rb_tree_model_node_column_get_type):
	* lib/widgets/rb-tree-model-node.h:
	* library/rb-node-filter.c: (rb_node_filter_expression_new),
	(rb_node_filter_expression_free),
	(rb_node_filter_expression_evaluate):
	* library/rb-node-filter.h:
	* library/rb-node-song.c: (set_title), (set_artist), (set_album),
	(rb_node_song_sync):
	* library/rb-node-song.h:
	* shell/rb-shell.c: (rb_shell_new_group_dialog):
	* views/rb-library-view.c: (rb_library_view_search_cb):

	Optimize sorting and searching, sorting still isn't fast
	enough to be enabled by default though :/

	Also use the group icon for group string request dialogs.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/toolbar-editor.glade:

	HIG-compliancy fixes.
	
	* lib/Makefile.am:
	* lib/rb-thread-helpers.c: (rb_thread_helpers_init),
	(rb_thread_helpers_in_main_thread):
	* lib/rb-thread-helpers.h:
	* library/Makefile.am:
	* library/rb-node.c: (lock_gdk), (unlock_gdk):

	Fix compile again.
	
	* shell/rb-shell-player.c: (rb_shell_player_sync_with_player):
	* shell/rb-shell.c: (rb_shell_init),
	(rb_shell_toolbar_editor_revert_clicked_cb):
	* shell/rb-shell.h:
	* views/rb-group-view.c: (rb_group_view_previous):
	* views/rb-library-view.c: (rb_library_view_previous):

	Fix previous behaviour on the first song.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/toolbar/gul-tbi-std-toolitem.c:
	(gul_tbi_std_toolitem_get_icon_impl),
	(gul_tbi_std_toolitem_get_name_human_impl),
	(gul_tbi_std_toolitem_to_string_impl),
	(gul_tbi_std_toolitem_add_to_bonobo_tb_impl),
	(gul_tbi_std_toolitem_parse_properties_impl),
	(gul_tbi_std_toolitem_set_item):
	* shell/rb-shell-player.c: (rb_shell_player_sync_with_player):
	* shell/rb-shell.c:
	* views/rb-group-view.c: (rb_group_view_previous):
	* views/rb-library-view.c: (rb_library_view_previous):

	Remove restart button:
	The previous button now goes to the previous song if the song is in 
	it's first two seconds, otherwise it restarts it.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-sidebar.c: (rb_sidebar_remove):

	Fix radiobuttongroup corruption.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* views/rb-group-view.c: (rb_group_view_finalize):

	Fix removing groups.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_construct):
	* library/rb-node.c: (rb_node_class_init), (real_remove_child):
	* library/rb-node.h:

	Fix deleting nodes.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:

	Swap duration and rating columns.

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:

	Remove unnecessary event_box from the track number label.
	
	* data/rhythmbox.schemas:
	* shell/rb-shell.c:

	Move toolbar_setup key into ui/

2002-10-25  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_init), (rb_player_sync_time),
	(slider_press_callback), (slider_moved_callback),
	(slider_release_callback), (changed_idle_callback),
	(slider_changed_callback):

	Better seeking.

2002-10-25  Olivier Martin <oleevye@wanadoo.fr>

	* lib/widgets/rb-song-info.c: (rb_song_info_init),
	(rb_song_info_update_title), (rb_song_info_update_comments),
	(rb_song_info_update_track), (rb_song_info_update_entry),
	(rb_song_info_update_genre), (rb_song_info_update_bitrate),
	(rb_song_info_update_channels), (rb_song_info_update_size),
	(rb_song_info_update_duration), (rb_song_info_forward_clicked_cb),
	(rb_song_info_update_current_values):

	Sanitize song-info and fix the forward button.

2002-10-24  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_get_property),
	(rb_node_view_new), (rb_node_view_construct):
	* lib/widgets/rb-node-view.h:
	* library/rb-node-song.c: (rb_node_song_new):
	* views/rb-group-view.c: (rb_group_view_init):
	* views/rb-library-view.c: (rb_library_view_set_property):

	Move columns gconf key to the xml view descriptions,
	remove obsolete visible xml prop.

2002-10-24  Mark Humphreys  <marquee@users.sourceforge.net>
            Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/preferences.glade:
	* data/glade/song-info.glade:
	* data/node-views/rb-node-view-songs.xml:
	* lib/Makefile.am:
	* lib/widgets/rb-cell-renderer-pixbuf.c:
	(rb_cell_renderer_pixbuf_get_size):
	* lib/widgets/rb-cell-renderer-rating.c:
	(rb_cell_renderer_rating_activate):
	* lib/widgets/rb-node-view.c: (rb_node_view_sort_func):
	* lib/widgets/rb-song-info.c: (rb_song_info_init),
	(rb_song_info_populate_dialog), (rb_song_info_update_mtime),
	(rb_song_info_update_play_count),
	(rb_song_info_update_last_played):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_get_column_type),
	(rb_tree_model_node_get_value),
	(rb_tree_model_node_column_get_type):
	* lib/widgets/rb-tree-model-node.h:
	* library/rb-node-song.c: (rb_node_song_new),
	(rb_node_song_restored), (rb_node_song_update_play_statistics):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_get_property_node),
	(rb_node_get_property_time):
	* library/rb-node.h:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync), (show_columns_changed_cb):
	* shell/rb-shell.c: (rb_shell_cmd_about):
	* views/rb-group-view.c: (song_update_statistics), (song_eos_cb):
	* views/rb-library-view.c: (rb_library_view_set_property),
	(song_update_statistics), (song_eos_cb):

	'Last Played' and 'Play Count' now recorded. Viewed in the song info 	
	dialog, and available as selectable columns from the preference
	dialog.

2002-10-24  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node.c: (child_changed), (real_set_property),
	(rb_node_set_property), (rb_node_new_from_xml), (real_add_child),
	(rb_node_add_child):

	Remove some unnecessary locking.
	
	* views/rb-library-view.c: (artist_node_selected_cb),
	(album_node_selected_cb):

	Small searching speedup.

2002-10-24  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-main-thread.c:
	(rb_library_main_thread_finalize), (thread_main):
	* library/rb-library-walker-thread.c:
	(rb_library_walker_thread_finalize), (thread_main):
	* library/rb-library-xml-thread.c:
	(rb_library_xml_thread_finalize), (thread_main):
	* library/rb-node.c: (rb_node_dispose):

	Cleaner way to exit threads.

2002-10-24  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/Makefile.am:
	* data/art/rhythmbox-blank.png:
	* data/art/rhythmbox-dot.png:
	* data/art/rhythmbox-no-star.png:
	* data/art/rhythmbox-set-star.png:
	* data/art/rhythmbox-star.png:
	* data/art/rhythmbox-unset-star.png:
	* data/node-views/rb-node-view-songs.xml:
	* lib/rb-marshal.list:
	* lib/rb-stock-icons.c: (rb_stock_icons_init):
	* lib/rb-stock-icons.h:
	* lib/widgets/rb-cell-renderer-rating.c:
	(rb_cell_renderer_rating_init),
	(rb_cell_renderer_rating_class_init),
	(rb_cell_renderer_rating_finalize),
	(rb_cell_renderer_rating_set_property),
	(rb_cell_renderer_rating_render),
	(rb_cell_renderer_rating_activate):
	* lib/widgets/rb-cell-renderer-rating.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_rated_cb):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_get_column_type),
	(rb_tree_model_node_get_value):
	* library/Makefile.am:
	* library/rb-node.c: (rb_node_dispose), (rb_node_set_property),
	(rb_node_new_from_xml), (rb_node_add_child),
	(rb_node_remove_child), (read_lock_to_write_lock), (lock_gdk),
	(unlock_gdk):
	* shell/rb-shell.c: (rb_shell_init), (rb_shell_finalize),
	(rb_shell_corba_quit):
	* shell/rb-shell.h:
	* views/rb-group-view.c: (rb_group_view_delete):
	* views/rb-library-view.c: (rb_library_view_delete):

	Rating cleanups, and remove the need for weird
	GDK_THREADS hacks!

2002-10-24  Olivier Martin <oleevye@wanadoo.fr>

	* library/rb-node.c: (rb_node_save_to_xml):

	Fix a bug when saving the lib.

2002-10-24  Olivier Martin <oleevye@wanadoo.fr>

	* library/rb-library.c: (rb_library_handle_songs):
	* views/rb-group-view.c: (rb_group_view_add_node):

	Fix dropping an artist on a group.

2002-10-23  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-filter.c: (rb_node_filter_expression_new),
	(rb_node_filter_expression_evaluate):

	Make search case insensitive again.
	
	* shell/rb-shell.c: (rb_shell_cmd_about):

	Added marquee to contributors list

2002-10-23  Olivier Martin <oleevye@wanadoo.fr>

	* data/art/Makefile.am:
	* data/glade/preferences.glade:
	* data/node-views/rb-node-view-songs.xml:
	* lib/rb-stock-icons.c: (rb_stock_icons_init):
	* lib/rb-stock-icons.h:
	* lib/widgets/Makefile.am:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_rated_cb), (rb_node_view_sort_func):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_get_column_type),
	(rb_tree_model_node_get_value),
	(rb_tree_model_node_column_get_type):
	* lib/widgets/rb-tree-model-node.h:
	* library/rb-node-song.h:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync), (show_columns_changed_cb):

	MyRating(tm) :)

2002-10-23  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/preferences.glade:
	* data/glade/song-info.glade:

	Fix caps to be hig-compliant.
	
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_get_property),
	(rb_node_view_new), (rb_node_view_construct), (filter_changed_cb),
	(rb_node_view_get_status), (rb_node_view_get_n_rows):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_class_init), (filter_changed_cb),
	(rb_tree_model_node_set_property),
	(rb_tree_model_node_get_property), (rb_tree_model_node_new),
	(rb_tree_model_node_get_column_type),
	(rb_tree_model_node_get_value),
	(rb_tree_model_node_get_playing_node):
	* lib/widgets/rb-tree-model-node.h:
	* library/rb-library.c: (rb_library_create_skels):
	* library/rb-library.h:
	* library/rb-node-filter.c: (rb_node_filter_class_init),
	(rb_node_filter_init), (rb_node_filter_finalize),
	(rb_node_filter_new), (rb_node_filter_add_expression),
	(rb_node_filter_empty), (rb_node_filter_done_changing),
	(rb_node_filter_evaluate), (rb_node_filter_expression_new),
	(rb_node_filter_expression_free),
	(rb_node_filter_expression_evaluate):
	* library/rb-node-filter.h:
	* library/rb-node-song.h:
	* shell/rb-shell.c: (rb_shell_construct),
	(window_visibility_changed_cb):
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_delete), (rb_group_view_node_removed_cb):
	* views/rb-library-view.c: (rb_library_view_finalize),
	(rb_library_view_set_property), (artist_node_selected_cb),
	(album_node_selected_cb), (rb_library_view_delete),
	(rb_library_view_search_cb), (albums_filter), (songs_filter):

	New filtering mechanism.

2002-10-23  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_show):

	Immediately show/hide window.

2002-10-22  Mark Humphreys  <marquee@users.sourceforge.net>
 
 	* data/glade/song-info.glade:
 	* lib/widgets/rb-song-info.c: (rb_song_info_init),
 	(rb_song_info_populate_dialog), (rb_song_info_update_size),
 	(rb_song_info_update_mtime):
 
 	Show modified time (mtime) in the song info dialog
 
2002-10-23  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node.c: (rb_node_save_to_xml):

	Encode entities before saving.

2002-10-22  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/preferences.glade:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync):

	Better prefs layout, thanks to Luca Ferretti.

2002-10-22  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-sidebar.c: (rb_sidebar_remove):

	Fix sidebar group corruption.

2002-10-22  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_set_filter):

	Change cursor to a watch when filtering.

2002-10-22  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_construct):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (root_child_changed_cb):
	* library/rb-library.c: (rb_library_finalize):
	* library/rb-node.c: (rb_node_class_init), (real_remove_child):
	* library/rb-node.h:

	Fix various deleting bugs.

2002-10-21  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-song.c: (rb_node_song_sync):

	Fix changing filtering when loading.

2002-10-21  Jorn Baayen  <jorn@nl.linux.org>

	* shell/main.c: (main), (rb_init), (rb_handle_cmdline):

	Only grab focus when rb is already running.
	
	* shell/rb-remote.c: (rb_remote_finalize), (rb_remote_init):

	Fix RBRemote shutdown when lirc init failed.

2002-10-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/toolbar/gul-tbi-std-toolitem.c:
	(gul_tbi_std_toolitem_get_icon_impl),
	(gul_tbi_std_toolitem_add_to_bonobo_tb_impl):

	Fix restart song label, add priority.
	
	* shell/rb-shell.c: (rb_shell_cmd_about),
	(rb_shell_sync_window_visibility):

	Fix showing window from applet.

2002-10-19  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/preferences.glade:
	* data/rhythmbox.schemas:
	* shell/rb-shell-preferences.c: (help_cb),
	(rb_shell_preferences_init), (rb_shell_preferences_sync):

	Prefs UI fixes, include track number as default column.

2002-10-18  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):
	* library/rb-library-xml-thread.c: (rb_library_xml_thread_init),
	(rb_library_xml_thread_new), (rb_library_xml_thread_set_property),
	(thread_main):
	* library/rb-library.c: (rb_library_finalize):
	* library/rb-node.c: (rb_node_dispose), (child_changed),
	(rb_node_set_property), (rb_node_save_to_xml),
	(rb_node_new_from_xml), (real_add_child), (rb_node_add_child),
	(real_remove_child), (rb_node_remove_child):
	* shell/main.c: (main), (rb_handle_cmdline):
	* shell/rb-shell-player.c: (rb_shell_player_finalize):
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_corba_quit),
	(rb_shell_construct), (rb_shell_show):
	* views/rb-group-view.c: (remove_nodes), (rb_group_view_delete):
	* views/rb-library-view.c: (delete_nodes),
	(rb_library_view_delete):

	Nodes seem to be working relatively well now.

2002-10-15  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_set_property),
	(rb_node_view_timeout_cb), (root_child_removed_cb),
	(rb_node_view_enable_drag_source):
	* lib/widgets/rb-player.c: (rb_player_sync_time):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (rb_tree_model_node_get_path),
	(rb_tree_model_node_iter_n_children), (root_child_removed_cb),
	(root_child_added_cb), (root_child_reordered_cb):
	* library/rb-library.c: (rb_library_init), (rb_library_finalize),
	(genre_added_cb), (artist_added_cb), (album_added_cb),
	(song_added_cb), (genre_removed_cb), (artist_removed_cb),
	(album_removed_cb), (song_removed_cb),
	(rb_library_get_genre_by_name), (rb_library_get_artist_by_name),
	(rb_library_get_album_by_name), (rb_library_get_song_by_location):
	* library/rb-node.c: (real_add_child):
	* views/rb-group-view.c: (song_eos_cb):
	* views/rb-library-view.c: (song_eos_cb):

	More library fixage, still buggy ...

2002-10-15  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_select_node),
	(root_child_removed_cb):
	* lib/widgets/rb-tree-model-node.c: (root_child_added_cb):
	* library/rb-library.c:
	* library/rb-node.c: (remove_child), (rb_node_dispose),
	(child_changed), (rb_node_new_from_xml), (real_add_child),
	(rb_node_add_child), (real_remove_child), (rb_node_remove_child),
	(id_factory_set_to), (write_lock_to_read_lock),
	(read_lock_to_write_lock):

	Some node improvements, still needs a lot of work.

2002-10-09  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/toolbar-editor.glade:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/rb-marshal.list:
	* lib/widgets/eggtreemodelfilter.c:
	(egg_tree_model_filter_build_level):
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_get_property),
	(rb_node_view_new), (rb_node_view_construct),
	(rb_node_view_get_status), (rb_node_view_get_n_rows),
	(root_child_removed_cb):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-sidebar.c: (rb_sidebar_remove):
	* lib/widgets/rb-song-info.c: (rb_song_info_update_title),
	(rb_song_info_update_location), (song_info_forward_clicked_cb),
	(rb_song_info_update_current_values):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_class_init), (rb_tree_model_node_set_property),
	(rb_tree_model_node_get_property), (rb_tree_model_node_new),
	(rb_tree_model_node_get_iter), (rb_tree_model_node_get_path),
	(rb_tree_model_node_get_value), (rb_tree_model_node_iter_next),
	(rb_tree_model_node_iter_nth_child), (root_child_removed_cb),
	(root_child_added_cb), (filter_parent_child_added_cb),
	(filter_parent_child_removed_cb), (root_child_reordered_cb),
	(root_destroyed_cb), (filter_parent_destroyed_cb),
	(filter_artist_destroyed_cb):
	* lib/widgets/rb-tree-model-node.h:
	* lib/widgets/rb-tree-model-sort.c:
	(rb_tree_model_sort_multi_drag_data_get):
	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library-xml-thread.c: (thread_main):
	* library/rb-library.c: (rb_library_init), (rb_library_finalize),
	(genre_added_cb), (artist_added_cb), (album_added_cb),
	(song_added_cb), (genre_removed_cb), (artist_removed_cb),
	(album_removed_cb), (song_removed_cb), (rb_library_create_skels),
	(rb_library_save), (rb_library_finished_preloading),
	(rb_library_get_genre_by_name), (rb_library_get_artist_by_name),
	(rb_library_get_album_by_name), (rb_library_get_song_by_location),
	(rb_library_handle_songs):
	* library/rb-library.h:
	* library/rb-node-filter.c: (rb_node_filter_init),
	(rb_node_filter_set_object_property), (thread_main):
	* library/rb-node-song.c: (rb_node_song_get_type),
	(rb_node_song_class_init), (rb_node_song_init),
	(rb_node_song_finalize), (rb_node_song_new), (is_different),
	(set_value), (set_mtime), (set_duration), (set_track_number),
	(set_genre), (set_artist), (set_album), (rb_node_song_sync),
	(rb_node_song_update_if_changed), (rb_node_song_get_genre),
	(rb_node_song_get_artist), (rb_node_song_get_album),
	(rb_node_song_has_genre), (rb_node_song_has_artist),
	(rb_node_song_has_album), (rb_node_song_restored):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_get_type), (rb_node_class_init),
	(int_equal), (int_hash), (rb_node_init), (rb_node_finalize),
	(remove_child), (rb_node_dispose), (rb_node_set_object_property),
	(rb_node_get_object_property), (rb_node_new), (add_signal),
	(write_lock_to_read_lock), (read_lock_to_write_lock),
	(emit_signals_and_release_lock), (rb_node_get_id),
	(rb_node_get_from_id), (rb_node_ref), (rb_node_unref),
	(rb_node_freeze), (rb_node_thaw), (child_changed),
	(real_set_property), (rb_node_set_property),
	(rb_node_get_property), (rb_node_get_property_string),
	(rb_node_get_property_boolean), (rb_node_get_property_long),
	(rb_node_get_property_int), (rb_node_get_property_double),
	(rb_node_get_property_float), (rb_node_get_property_node),
	(save_parent), (rb_node_save_to_xml), (rb_node_new_from_xml),
	(real_add_child), (rb_node_add_child), (real_remove_child),
	(rb_node_remove_child), (rb_node_has_child),
	(rb_node_get_children), (rb_node_get_n_children),
	(rb_node_get_nth_child), (rb_node_get_child_index),
	(rb_node_get_next_child), (rb_node_get_previous_child),
	(rb_node_system_init), (rb_node_system_shutdown), (rb_node_new_id),
	(id_factory_set_to):
	* library/rb-node.h:
	* shell/rb-shell.c:
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_finalize), (rb_group_view_get_artist),
	(rb_group_view_get_album), (rb_group_view_get_song),
	(rb_group_view_get_duration), (rb_group_view_set_playing_node),
	(rb_group_view_save), (rb_group_view_load), (add_uri),
	(dnd_add_handled_cb), (handle_songs_func), (rb_group_view_drop_cb),
	(rb_group_view_add_list_uri):
	* views/rb-library-view.c: (rb_library_view_finalize),
	(rb_library_view_set_property), (artist_node_selected_cb),
	(album_node_selected_cb), (rb_library_view_get_artist),
	(rb_library_view_get_album), (rb_library_view_get_song),
	(rb_library_view_get_duration), (rb_library_view_set_playing_node),
	(rb_library_view_cmd_current_song):

	Yes, this is big.

2002-10-07 Marco Pesenti Gritti <marco@it.gnome.org>

	* data/Makefile.am: fix a type that was preventing
	schemas to be installed in the correct location

2002-10-16  Olivier Martin <oleevye@wanadoo.fr>

	* data/glade/preferences.glade:
	* data/node-views/rb-node-view-songs.xml:
	* data/rhythmbox.schemas:
	* lib/toolbar/gul-toolbar.c: (gul_toolbar_parse):
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_finalize), (rb_node_view_set_property),
	(rb_node_view_get_property), (rb_node_view_new),
	(rb_node_view_construct), (child_deleted_cb),
	(rb_node_view_columns_config_changed_cb),
	(rb_node_view_columns_parse):
	* lib/widgets/rb-node-view.h:
	* library/rb-node-song.c: (set_duration), (rb_node_song_sync):
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync), (show_statusbar_toggled_cb),
	(show_columns_changed_cb):
	* shell/rb-shell-preferences.h:
	* views/rb-group-view.c: (rb_group_view_init):
	* views/rb-library-view.c: (rb_library_view_set_property):

	Add preferences for choosing which columns to show.

2002-10-13  Mark Finlay <sisob@eircom.net>
            Mark Humphreys <marquee@users.sourceforge.net>

        * shell/rb-shell.c: Added documentation section to aboutbox.
	* data/ui/rhythmbox-ui.xml.in: added F1 accel to contents

	Make F1 launch help

	* configure.in: added Makefile references for help and help/C
	* data/rhythmbox.desktop.in: added docs link
	* Makefile.am: added help to SUBDIRS
	* shell/rb-shell.c: added libgnome/libgnome.h include, 
	added rb_shell_cmd_contents function, added BONOBO_UI_VERB for contents
	* data/ui/rhythmbox-ui.xml.in: added Help->Contents Menu item
	* oaf.make(ADDED)
	* xmldocs.make(ADDED)
	* help/(ADDED)

	Adds Rhythmbox Help to yelp, Help->Contents and to the rightclick menu for the launcher


2002-10-13  Mark Humphreys <marquee@users.sourceforge.net>

	* lib/toolbar/gul-tbi-std-toolitem.c:
	(gul_tbi_std_toolitem_get_icon_impl),
	(gul_tbi_std_toolitem_get_name_human_impl),
	(gul_tbi_std_toolitem_to_string_impl),
	(gul_tbi_std_toolitem_add_to_bonobo_tb_impl),
	(gul_tbi_std_toolitem_parse_properties_impl),
	(gul_tbi_std_toolitem_set_item):
	* lib/toolbar/gul-tbi-std-toolitem.h:
	* shell/rb-shell.c:

	Add 'Repeat' and 'Restart' toolbar options to toolbar editor

2002-10-08 Alex Duggan <aldug@gnome.org>

	* lib/toolbar/Makefile.am: fix make dist so it includes gul-gobject-misc.h

2002-10-18  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):
	* library/rb-library-xml-thread.c: (rb_library_xml_thread_init),
	(rb_library_xml_thread_new), (rb_library_xml_thread_set_property),
	(thread_main):
	* library/rb-library.c: (rb_library_finalize):
	* library/rb-node.c: (rb_node_dispose), (child_changed),
	(rb_node_set_property), (rb_node_save_to_xml),
	(rb_node_new_from_xml), (real_add_child), (rb_node_add_child),
	(real_remove_child), (rb_node_remove_child):
	* shell/main.c: (main), (rb_handle_cmdline):
	* shell/rb-shell-player.c: (rb_shell_player_finalize):
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_corba_quit),
	(rb_shell_construct), (rb_shell_show):
	* views/rb-group-view.c: (remove_nodes), (rb_group_view_delete):
	* views/rb-library-view.c: (delete_nodes),
	(rb_library_view_delete):

	Nodes seem to be working relatively well now.

2002-10-07 Marco Pesenti Gritti <marco@it.gnome.org>

	* data/glade/toolbar-editor.glade:
	* shell/rb-shell.c: Fix capitalization,
	do not open more than one instance, use a dialog
	instead of a window and parent it.

2002-10-02  Olivier Martin <oleevye@wanadoo.fr>

	* shell/rb-shell.c:

	Update the about box with the names on the site.

2002-10-02  Marco Pesenti Gritti <marco@it.gnome.org>

	* configure.in:
	* data/glade/Makefile.am:
	* data/glade/toolbar-editor.glade:
	* data/rhythmbox.schemas:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/Makefile.am:
	* lib/eel-gconf-extensions.c: (eel_gconf_unset):
	* lib/eel-gconf-extensions.h:
	* lib/toolbar/Makefile.am:
	* lib/toolbar/gul-gobject-misc.h:
	* lib/toolbar/gul-tbi-separator.c: (gul_tbi_separator_class_init),
	(gul_tbi_separator_init), (gul_tbi_separator_new),
	(gul_tbi_separator_finalize_impl),
	(gul_tbi_separator_get_widget_impl),
	(gul_tbi_separator_get_icon_impl),
	(gul_tbi_separator_get_name_human_impl),
	(gul_tbi_separator_to_string_impl),
	(gul_tbi_separator_is_unique_impl), (gul_tbi_separator_clone_impl),
	(gul_tbi_separator_add_to_bonobo_tb_impl),
	(gul_tbi_separator_parse_properties_impl):
	* lib/toolbar/gul-tbi-separator.h:
	* lib/toolbar/gul-tbi-std-toolitem.c:
	(gul_tbi_std_toolitem_class_init), (gul_tbi_std_toolitem_init),
	(gul_tbi_std_toolitem_new), (gul_tbi_std_toolitem_finalize_impl),
	(gul_tbi_std_toolitem_get_widget_impl),
	(gul_tbi_std_toolitem_get_icon_impl),
	(gul_tbi_std_toolitem_get_name_human_impl),
	(gul_tbi_std_toolitem_to_string_impl),
	(gul_tbi_std_toolitem_is_unique_impl),
	(gul_tbi_std_toolitem_clone_impl),
	(gul_tbi_std_toolitem_add_to_bonobo_tb_impl),
	(gul_tbi_std_toolitem_parse_properties_impl),
	(gul_tbi_std_toolitem_set_item):
	* lib/toolbar/gul-tbi-std-toolitem.h:
	* lib/toolbar/gul-tbi-volume.c: (gul_tbi_volume_class_init),
	(gul_tbi_volume_init), (gul_tbi_volume_new),
	(gul_tbi_volume_finalize_impl), (gul_tbi_volume_get_widget_impl),
	(gul_tbi_volume_get_icon_impl),
	(gul_tbi_volume_get_name_human_impl),
	(gul_tbi_volume_to_string_impl), (gul_tbi_volume_is_unique_impl),
	(gul_tbi_volume_clone_impl),
	(gul_tbi_volume_add_to_bonobo_tb_impl),
	(gul_tbi_volume_parse_properties_impl):
	* lib/toolbar/gul-tbi-volume.h:
	* lib/toolbar/gul-toolbar-bonobo-view.c:
	(gul_tb_bonobo_view_class_init), (gul_tb_bonobo_view_init),
	(gul_tb_bonobo_view_finalize_impl), (gul_tb_bonobo_view_new),
	(gul_tb_bonobo_view_set_toolbar), (gul_tb_bonobo_view_tb_changed),
	(gul_tb_bonobo_view_set_path), (gul_bonobo_clear_path),
	(gul_tb_bonobo_view_rebuild):
	* lib/toolbar/gul-toolbar-bonobo-view.h:
	* lib/toolbar/gul-toolbar-editor.c: (gul_tb_editor_class_init),
	(gul_tb_editor_init), (gul_tb_editor_init_widgets),
	(gul_tb_editor_undo_clicked_cb), (gul_tb_editor_close_clicked_cb),
	(gul_tb_editor_up_clicked_cb), (gul_tb_editor_down_clicked_cb),
	(gul_tb_editor_left_clicked_cb), (gul_tb_editor_right_clicked_cb),
	(gul_tb_editor_get_selected), (gul_tb_editor_get_selected_index),
	(gul_tb_editor_select_index), (gul_tb_editor_finalize_impl),
	(gul_tb_editor_new), (gul_tb_editor_set_toolbar),
	(gul_tb_editor_set_available), (gul_tb_editor_show),
	(gul_tb_editor_set_treeview_toolbar),
	(gul_tb_editor_setup_treeview), (gul_tb_editor_get_toolbar),
	(gul_tb_editor_get_available), (gul_tb_editor_remove_used_items),
	(gul_tb_editor_toolbar_changed_cb),
	(gul_tb_editor_treeview_button_press_event_cb),
	(gul_tb_editor_get_revert_button):
	* lib/toolbar/gul-toolbar-editor.h:
	* lib/toolbar/gul-toolbar-item-factory.c:
	(gul_toolbar_item_create_from_string),
	(gul_toolbar_list_item_types):
	* lib/toolbar/gul-toolbar-item-factory.h:
	* lib/toolbar/gul-toolbar-item.c: (gul_tb_item_class_init),
	(gul_tb_item_init), (gul_tb_item_finalize_impl),
	(gul_tb_item_get_widget), (gul_tb_item_get_icon),
	(gul_tb_item_get_name_human), (gul_tb_item_to_string),
	(gul_tb_item_is_unique), (gul_tb_item_clone),
	(gul_tb_item_add_to_bonobo_tb), (gul_tb_item_set_id),
	(gul_tb_item_parse_properties):
	* lib/toolbar/gul-toolbar-item.h:
	* lib/toolbar/gul-toolbar-tree-model.c:
	(gul_tb_tree_model_get_type), (gul_tb_tree_model_class_init),
	(gul_tb_tree_model_tb_tree_model_init),
	(gul_tb_tree_model_drag_source_init),
	(gul_tb_tree_model_drag_dest_init), (gul_tb_tree_model_init),
	(gul_tb_tree_model_new), (gul_tb_tree_model_set_toolbar),
	(gul_tb_tree_model_finalize_impl),
	(gul_tb_tree_model_get_flags_impl),
	(gul_tb_tree_model_get_n_columns_impl),
	(gul_tb_tree_model_get_column_type_impl),
	(gul_tb_tree_model_get_iter_impl),
	(gul_tb_tree_model_get_path_impl),
	(gul_tb_tree_model_get_value_impl),
	(gul_tb_tree_model_iter_next_impl),
	(gul_tb_tree_model_iter_children_impl),
	(gul_tb_tree_model_iter_has_child_impl),
	(gul_tb_tree_model_iter_n_children_impl),
	(gul_tb_tree_model_iter_nth_child_impl),
	(gul_tb_tree_model_iter_parent_impl),
	(gul_tb_tree_model_drag_data_delete_impl),
	(gul_tb_tree_model_drag_data_get_impl),
	(gul_tb_tree_model_drag_data_received_impl),
	(gul_tb_tree_model_row_drop_possible_impl),
	(gul_tb_tree_model_item_from_iter),
	(gul_tb_tree_model_toolbar_changed_cb), (gul_tb_tree_model_update):
	* lib/toolbar/gul-toolbar-tree-model.h:
	* lib/toolbar/gul-toolbar.c: (gul_toolbar_class_init),
	(gul_toolbar_init), (gul_toolbar_finalize_impl), (gul_toolbar_new),
	(gul_toolbar_parse), (gul_toolbar_to_string),
	(gul_toolbar_listen_to_gconf_cb), (gul_toolbar_listen_to_gconf),
	(gul_toolbar_get_item_by_id), (gul_toolbar_get_item_list),
	(gul_toolbar_add_item), (gul_toolbar_remove_item),
	(gul_toolbar_set_fixed_order), (gul_toolbar_set_check_unique),
	(gul_toolbar_get_check_unique), (gul_toolbar_update_order):
	* lib/toolbar/gul-toolbar.h:
	* shell/Makefile.am:
	* shell/rb-shell.c: (setup_volume_control),
	(rb_shell_toolbar_changed_cb), (rb_shell_construct):

	Add Galeon's toolbar editor.

2002-09-30  Jan Arne Petersen <jpetersen@gnome-de.org>

	* library/rb-library.c: (rb_library_finalize):

	Fix the evil bug making RB crash at exit.

2002-09-23  Jan Arne Petersen <jpetersen@gnome-de.org>

	* lib/widgets/rb-volume.c: (rb_volume_instance_init),
	(volume_mute_cb), (volume_scroll_cb):

	Volume improvements.

2002-09-20  Jan Arne Petersen <jpetersen@gnome-de.org>

	* shell/rb-shell.c: (tray_drop_cb), (setup_tray_icon):

	Drop on tray icon.

2002-09-13  James Willcox  <jwillcox@gnome.org>

	* shell/RhythmboxShell.idl:  added a grabFocus() method.
	* shell/main.c: (rb_handle_cmdline):  grab the focus of the existing
	instance.
	* shell/rb-shell.c: (rb_shell_class_init),
	(rb_shell_corba_grab_focus), (rb_shell_sync_window_visibility):
	Implemented the grabFocus method.
	
	Fixes #76562 (mostly)

2002-09-13  James Willcox  <jwillcox@gnome.org>

	* shell/rb-shell.c: (rb_shell_sync_window_visibility):
	Save the position of the window when hiding, and restore it
	when showing.  Nice when showing/hiding the window with the tray app.

2002-09-13  Olivier Martin <oleevye@wanadoo.fr>

	* lib/widgets/rb-song-info.c: (rb_song_info_new):
	* views/rb-library-view.c: (rb_library_view_set_property),
	(node_view_changed_cb):

	SongInfo not sensitive on startup.

2002-09-13  Olivier Martin  <oleevye@wanadoo.fr>

	* views/rb-group-view.c: (rb_group_view_set_playing_node):
	* views/rb-library-view.c: (rb_library_view_set_playing_node):

	Don't connect eos to a stream when there is an error.

2002-09-11  Olivier Martin <oleevye@wanadoo.fr>

	* library/rb-node-filter.c: (rb_node_filter_set_object_property),
	(rb_node_filter_abort_search), (thread_main):
	* library/rb-node-filter.h:
	* views/rb-library-view.c: (rb_library_view_set_property),
	(artist_node_selected_cb), (album_node_selected_cb):

	Make search a bit more responsive.

2002-09-10  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-song.c: (is_different), (set_value):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_init), (rb_node_finalize),
	(rb_node_set_property), (rb_node_get_property),
	(rb_node_save_to_xml), (rb_node_new_from_xml),
	(rb_node_save_property):
	* library/rb-node.h:

	Use an array of properties isntead of a hashtable, may
	improve performance a bit.

2002-09-10  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (rb_tree_model_node_get_path),
	(root_child_destroyed_cb), (root_child_created_cb):
	* library/rb-node.c: (rb_node_set_property),
	(rb_node_get_previous), (rb_node_get_next), (rb_node_get_prevnext):
	* library/rb-node.h:

	Specialcase last node in _get_path.

2002-09-10  Jorn Baayen  <jorn@nl.linux.org>

	* lib/rb-string-helpers.c: (rb_prefix_to_suffix):
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_get_status), (tree_view_size_allocate_cb):
	* lib/widgets/rb-song-info.c: (rb_song_info_update_title),
	(rb_song_info_update_location), (song_info_forward_clicked_cb),
	(rb_song_info_update_current_values):
	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_value),
	(rb_tree_model_node_get_filter):
	* lib/widgets/rb-tree-model-sort.c:
	(rb_tree_model_sort_multi_drag_data_get):
	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library-xml-thread.c: (thread_main):
	* library/rb-library.c: (rb_library_create_skels):
	* library/rb-node-filter.c: (thread_main):
	* library/rb-node-song.c: (is_different), (set_value), (set_mtime),
	(set_duration), (set_track_number), (set_genre), (set_artist),
	(set_album), (rb_node_song_destroyed_cb), (rb_node_song_sync),
	(rb_node_song_init), (rb_node_song_update_if_changed),
	(rb_node_song_get_genre), (rb_node_song_get_artist),
	(rb_node_song_get_album), (rb_node_song_has_genre),
	(rb_node_song_has_artist), (rb_node_song_has_album),
	(rb_node_song_restore):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_dispose), (rb_node_add_child),
	(rb_node_remove_child), (rb_node_get_next),
	(rb_node_handled_child_index), (find_parent):
	* library/rb-node.h:
	* shell/rb-shell.c: (rb_shell_finalize),
	(rb_sidebar_drag_finished_cb):
	* views/rb-group-view.c: (rb_group_view_get_artist),
	(rb_group_view_get_album), (rb_group_view_get_song),
	(rb_group_view_get_duration), (rb_group_view_set_playing_node):
	* views/rb-library-view.c: (rb_library_view_get_artist),
	(rb_library_view_get_album), (rb_library_view_get_song),
	(rb_library_view_get_duration), (rb_library_view_set_playing_node),
	(rb_library_view_cmd_current_song):

	RBNodeSong cleanup, don't always prefix-to-suffix when getting
	artist in treemodel, remove unnecessary strdups.

2002-09-10  Olivier Martin  <oleevye@wanadoo.fr>

	* shell/rb-shell.c: (rb_shell_finalize):

	No need to unref the shell player.

2002-09-10  James Willcox  <jwillcox@gnome.org>

	* lib/widgets/rb-node-view.c:  Remove some unnecessary debug output.

2002-09-10  Olivier Martin <oleevye@wanadoo.fr>

	* shell/rb-shell.c: (rb_shell_finalize):

	Unref correctly RBShellPlayer

2002-09-10  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-song.c: (rb_node_song_sync),
	(rb_node_song_get_genre_raw), (rb_node_song_get_artist_raw),
	(rb_node_song_get_album_raw):
	* library/rb-node.c: (rb_node_new_from_xml),
	(rb_node_save_property):

	Don't store artist/album/genre of a song in ID form!!!!
	This way we always had to lookup the actual node
	in the biiiiig node hash ... evil!

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property),
	(rb_tree_model_node_iter_n_children), (root_child_destroyed_cb),
	(root_child_created_cb):

	Cache number of rows.

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property),
	(filter_parent_child_created_cb),
	(filter_parent_child_destroyed_cb),
	(rb_tree_model_node_update_node), (root_child_changed_cb):

	If the filter parent is the same as the root node,
	we use the node index to generate the path to emit
	the row_changed signal, instead of looking it up
	on the node.

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_get_status),
	(rb_node_view_get_n_rows):

	Don't walk the list of nodes twice.

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* library/Makefile.am:
	* library/rb-node-iterator.c:
	* library/rb-node-iterator.h:

	Remove obsolete iterator.
	
	* library/rb-node.c: (rb_node_is_handled), (rb_node_set_handled):

	Don't lock/unlock on _handled, the handled property only gets
	touched from the main thread anyway.

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_get_first_node),
	(rb_node_view_get_random_node),
	(rb_node_view_get_next_random_node),
	(rb_node_view_get_previous_random_node),
	(rb_node_view_get_selection), (rb_node_view_timeout_cb),
	(rb_node_view_is_empty):

	Don't call _get_n_rows to check whether the view is empty,
	this is very expensive.

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (get_selection),
	(rb_node_view_get_visible_nodes), (tree_view_size_allocate_cb):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):
	* library/rb-node.c: (rb_node_add_child):

	g_list_prepend instead of g_list_append,
	ensure we never 100% empty the view when changing filter,
	that way we avoid a build_level in the filter.

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-remote.c:

	Include string.h.
	
	* shell/rb-shell-player.c: (rb_shell_player_cmd_pause):

	Silently fail if no view is playing.

2002-09-09  James Willcox  <jwillcox@gnome.org>

	* lib/widgets/rb-node-view (rb_node_view_get_next_random_node,
	rb_node_view_get_previous_random_node):  New methods, allow for
	navigating through a history of random nodes.

	Also, made rb_node_view_get_random_node() private, and modified it
	to try hard only to return nodes that are not already in the history.

	* views/rb-library-view.c, views/rb-group-view.c:  Modified to use
	new random node mechanism.

2002-09-09  James Willcox  <jwillcox@gnome.org>

	* Added support for controlling Rhythmbox with IR remotes.

	* lib/widgets/rb-volume.[ch] (rb_volume_get, rb_volume_get_mute,
	rb_volume_set_mute):  New methods, needed for proper IR remote
	support.

	* shell/rb-remote.c:  New object, handles events received from IR
	remotes, converts them to a GObject signal.

	* shell/rb-shell.c:  Hold a RBRemote object, listen to events.
	* shell/rb-shell-player.c:  Same as above

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:
	* library/rb-node-filter.c: (thread_main):

	Don't lock the all_songs node when searching,
	remove accels from songinfo tabs (deprecated)

2002-09-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_get_n_rows),
	(rb_node_view_get_visible_nodes):
	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_init),
	(rb_tree_model_node_finalize), (rb_tree_model_node_set_property),
	(rb_tree_model_node_iter_next):
	* library/rb-library.c: (rb_library_finalize), (rb_library_save):
	* library/rb-node-filter.c: (rb_node_filter_set_object_property),
	(thread_main):
	* library/rb-node.c: (rb_node_get_children), (rb_node_get_parents),
	(rb_node_set_handled), (rb_node_lock), (rb_node_unlock),
	(rb_node_get_next), (rb_node_n_handled_children),
	(rb_node_get_nth_handled_child), (rb_node_handled_child_index):
	* library/rb-node.h:

	Misc optimizations, mostly remove need to g_list_copy everything.

2002-09-08  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_iter),
	(rb_tree_model_node_get_value),
	(rb_tree_model_node_iter_n_children):
	* library/rb-node.c: (rb_node_add_child):

	rb_node_has_parent instead of rb_node_has_child,
	so we have to traverse a list of 1-10 items instead of
	1-100k ;)

2002-09-08  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-iterator.c: (rb_node_iterator_next):

	Fix an evillll leak

2002-09-08  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_iter):

	Faster way of iter validity checking.

2002-09-07  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_select_none):

	Reset selected_node field.

2002-09-07  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-search-entry.c: (rb_search_entry_init):

	Search mnemonic.

2002-09-07  Olivier Martin  <omartin@ifrance.com>
            Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view-player.h:
	* lib/view/rb-view.c: (rb_view_get_extra_widget):
	* lib/view/rb-view.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_selection_changed_cb),
	(rb_node_view_select_none), (rb_node_view_select_node):
	* lib/widgets/rb-search-entry.c: (rb_search_entry_init),
	(rb_search_entry_changed_cb), (rb_search_entry_timeout_cb):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (root_child_created_cb),
	(filter_parent_child_created_cb),
	(filter_parent_child_destroyed_cb):
	* library/Makefile.am:
	* library/rb-node-filter.c: (rb_node_filter_get_type),
	(rb_node_filter_class_init), (rb_node_filter_init),
	(rb_node_filter_finalize), (rb_node_filter_set_object_property),
	(rb_node_filter_get_object_property), (rb_node_filter_new),
	(rb_node_filter_get_root), (rb_node_filter_set_expression),
	(thread_main):
	* library/rb-node-filter.h:
	* shell/rb-shell-player.c: (rb_shell_player_init),
	(rb_shell_player_set_property):
	* shell/rb-shell.c: (rb_shell_construct):
	* views/rb-group-view.c: (rb_group_view_class_init),
	(rb_group_view_get_stream), (rb_group_view_get_extra_widget):
	* views/rb-library-view.c: (rb_library_view_class_init),
	(rb_library_view_init), (rb_library_view_finalize),
	(rb_library_view_set_property), (artist_node_selected_cb),
	(album_node_selected_cb), (rb_library_view_get_extra_widget),
	(rb_library_view_node_removed_cb), (rb_library_view_search_cb):

	Search!

2002-09-05  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node.c: (rb_node_dispose):

	Emit destroyed after instead of before
	the child_destroyed thingies.

2002-09-03  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:

	Updated.
	
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_init),
	(popup_menu), (rb_sidebar_button_popup_menu_cb),
	(rb_sidebar_button_button_press_event_cb):

	Support keyboard popup.

2002-09-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view-player.c:
	* lib/view/rb-view-player.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_enable_drag_source):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-player.c: (rb_player_class_init),
	(rb_player_set_property), (rb_player_new), (rb_player_sync),
	(rb_player_update_elapsed), (rb_player_set_view):
	* lib/widgets/rb-player.h:
	* shell/rb-shell-player.c: (rb_shell_player_get_type),
	(rb_shell_player_class_init), (rb_shell_player_init),
	(rb_shell_player_set_property), (rb_shell_player_get_property),
	(rb_shell_player_new), (rb_shell_player_set_playing_player):
	* shell/rb-shell-player.h:
	* shell/rb-shell.c: (rb_shell_construct),
	(rb_shell_sidebar_size_allocate_cb):
	* shell/rb-shell.h:
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_player_init), (impl_get_selection):
	* views/rb-library-view.c: (rb_library_view_init),
	(rb_library_view_player_init), (rb_library_view_node_removed_cb):

	Globalify RBPlayer.

2002-09-03  Jorn Baayen  <jorn@nl.linux.org>

	* Makefile.am:
	* configure.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view-player.c: (rb_view_player_have_first):
	* lib/view/rb-view-player.h:
	* shell/Makefile.am:
	* shell/rb-shell-player.c: (rb_shell_player_set_property),
	(rb_shell_player_get_state), (rb_shell_player_player_changed_cb),
	(rb_shell_player_sync_with_selected_player):
	* tests/Makefile.am:
	* tests/testview2.c:
	* tests/testview2.h:
	* views/rb-group-view.c: (rb_group_view_player_init),
	(rb_group_view_have_first), (rb_group_view_start_playing),
	(rb_group_view_get_previous_node), (rb_group_view_get_first_node):
	* views/rb-library-view.c: (artist_or_album_activated_cb),
	(rb_library_view_player_init), (rb_library_view_have_first),
	(rb_library_view_start_playing),
	(rb_library_view_get_previous_node),
	(rb_library_view_get_first_node):

	Playbutton insensitive when view is empty, fix accel for restart song,
	and remove obsolete tests.

2002-09-03  Olivier Martin  <omartin@ifrance.com>

	* views/rb-library-view.c: (rb_library_view_set_property),
	(artist_or_album_activated_cb):

	Double clicking in artist as well.

2002-09-03  Olivier Martin <omartin@ifrance.com>

	* views/rb-library-view.c: (rb_library_view_set_property),
	(album_node_selected_cb), (album_node_activated_cb):

	Make double clicking in albums play the album.

2002-09-02  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:
	* lib/widgets/rb-song-info.c: (rb_song_info_update_title),
	(rb_song_info_update_comments), (rb_song_info_update_track),
	(rb_song_info_update_entry), (rb_song_info_update_genre),
	(rb_song_info_update_bitrate), (rb_song_info_update_channels),
	(rb_song_info_update_size), (rb_song_info_update_duration):
	* library/rb-node-song.c: (rb_node_song_sync):

	Sync with MonkeyMedia.

2002-09-02  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:

	s/_Additional/Add_itional

2002-09-01  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init):

	Mnemonics for treeview columns, prefs not resizable.

2002-09-01  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* shell/rb-shell-player.c: (rb_shell_player_cmd_restart),
	(rb_shell_player_sync_with_player):

	s/Previous Song/Previous (and family), implement restart song.

2002-09-01  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/Makefile.am:
	* data/rhythmbox.schemas:
	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/Makefile.am:
	* lib/rb-stock-icons.c: (rb_stock_icons_init):
	* lib/rb-stock-icons.h:
	* lib/widgets/rb-tree-model-node.c: (root_child_created_cb):
	* shell/rb-shell-player.c: (rb_shell_player_class_init),
	(rb_shell_player_set_property), (rb_shell_player_get_property),
	(rb_shell_player_new), (rb_shell_player_set_play_button),
	(rb_shell_player_stop), (rb_shell_player_get_state):
	* shell/rb-shell-player.h:
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_construct),
	(rb_shell_show), (rb_shell_set_window_title),
	(rb_shell_show_window_changed_cb),
	(rb_shell_sync_window_visibility), (window_visibility_changed_cb),
	(rb_shell_new_group_dialog), (tray_button_press_event_cb),
	(setup_tray_icon), (sync_tray_menu):

	Nifty system tray thingie.

	* lib/rb-file-helpers.c: (rb_uri_handle_recursively):

	NULL check so we dont crash on dirs we dont have perms to enter.

2002-09-01  Olivier Martin  <omartin@ifrance.com>

	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_set_playing_node),
	(rb_node_view_enable_drag_source), (child_deleted_cb):
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_node_removed_cb):
	* views/rb-library-view.c: (rb_library_view_set_property),
	(rb_library_view_node_removed_cb):

	Don't crash whem removing the playing node.

2002-08-30  Olivier Martin <omartin@ifrance.com>

	* library/rb-node.c: (rb_node_remove_child):
	Fix a lock issue.

2002-08-29  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_new_group_dialog):

	Better dlg layout.

2002-08-29  Christophe Fergeau <teuf@users.sourceforge.net>

	* shell/main.c: moved gettext initialization after the call
	to gnome_program_init so that translations work

2002-08-28  Olivier Martin <omartin@ifrance.com>

	* data/ui/rhythmbox-ui.xml.in:
	* shell/rb-shell.c: (ask_string_response_cb), (create_group),
	(rb_shell_cmd_new_group), (rb_sidebar_drag_finished_cb),
	(rb_shell_new_group_dialog):

	Removed menu item 'New from Selection...' and moved it
	to the 'New Group' dialog.

2002-08-25  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:

	Don't allow vertical toolbars.

2002-08-25  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (ask_string_response_cb):

	Plug leak.

2002-08-25  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

2002-08-25  Jorn Baayen  <jorn@nl.linux.org>

	* lib/Makefile.am:
	* lib/rb-file-helpers.c: (rb_uri_handle_recursively):
	* lib/rb-file-helpers.h:
	* lib/rb-marshal.list:
	* lib/widgets/Makefile.am:
	* lib/widgets/rb-sidebar.c: (rb_sidebar_class_init),
	(event_for_self), (rb_sidebar_event_box_drag_data_received_cb),
	(rb_sidebar_event_box_drag_motion_cb),
	(rb_sidebar_event_box_drag_leave_cb), (rb_sidebar_get_button_pos),
	(rb_sidebar_add_dnd_targets):
	* lib/widgets/rb-sidebar.h:
	* lib/widgets/rb-song-info.c: (rb_song_info_init),
	(rb_song_info_set_property), (rb_song_info_update_buttons):
	* library/rb-library-action-queue.c:
	(rb_library_action_queue_peek_head):
	* library/rb-library-action-queue.h:
	* library/rb-library-walker-thread.c: (action_handled_cb),
	(add_file), (thread_main):
	* library/rb-node-song.c: (rb_node_song_sync):
	* shell/rb-shell.c: (rb_shell_construct), (ask_string_response_cb),
	(create_group), (rb_shell_cmd_new_group),
	(rb_shell_cmd_new_group_selection), (toolbar_style_changed_cb),
	(add_uri), (dnd_add_handled_cb), (rb_sidebar_drag_finished_cb):
	* views/rb-group-view.c: (add_uri), (dnd_add_handled_cb),
	(rb_group_view_drop_cb), (rb_group_view_add_list_uri):

	Support DnD to empty sidebar space to create new groups,
	remove "up" button in songinfo and rename "down" to
	"Next Song", as recommended by Seth on IRC.

2002-08-25  Olivier Martin <omartin@ifrance.com>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view.c: (rb_view_get_selection):
	* lib/view/rb-view.h:
	* shell/rb-shell.c: (ask_string_response_cb),
	(rb_shell_cmd_new_group), (rb_shell_cmd_new_group_selection):
	* views/rb-group-view.c: (rb_group_view_class_init),
	(rb_group_view_paste), (rb_group_view_load), (dnd_add_handled_cb),
	(rb_group_view_add_all_nodes), (rb_group_view_add_list_uri),
	(impl_get_selection), (rb_group_view_get_playing_view),
	(rb_group_view_add_node):
	* views/rb-group-view.h:
	* views/rb-library-view.c: (rb_library_view_class_init),
	(impl_get_description), (impl_get_selection):

	New group from selection.

2002-08-24  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.applications:
	* data/rhythmbox.desktop.in:
	* shell/rb-shell.c: (rb_shell_construct),
	(rb_shell_set_window_title):

	s/Rhythmbox Music Player/Music Player, again ;)

2002-08-24  Olivier Martin <omartin@ifrance.com>

	* TODO:
	* lib/widgets/rb-node-view.c: (node_from_sort_iter_cb),
	(rb_node_view_construct), (rb_node_view_get_node_visible),
	(rb_node_view_enable_drag_source):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-tree-model-sort.c:
	(rb_tree_model_sort_class_init), (rb_tree_model_sort_finalize),
	(rb_tree_model_sort_multi_drag_data_delete),
	(rb_tree_model_sort_multi_drag_data_get):
	* lib/widgets/rb-tree-model-sort.h:
	* library/Makefile.am:
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_drop_cb), (rb_group_view_add_all_nodes),
	(rb_group_view_add_list_uri):
	* views/rb-library-view.c: (rb_library_view_init),
	(rb_library_view_set_property), (rb_library_view_drop_cb):

	Drop on artists/albums.
	Drag an album/artist.
	Prevent dragging from same source.

2002-08-23  xan
            Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-volume.c: (rb_volume_instance_init),
	(volume_mute_cb), (timeout_cb), (rb_volume_update_image),
	(update_mixer):

	Mutable volume widget.

2002-08-23  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/Makefile.am:
	* data/node-views/rb-node-view-songs.xml:
	* data/rhythmbox.schemas:
	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/rb-bonobo-helpers.c: (rb_bonobo_set_visible),
	(rb_bonobo_get_visible), (rb_bonobo_set_look):
	* lib/rb-bonobo-helpers.h:
	* lib/view/rb-view-clipboard.c: (rb_view_clipboard_can_delete),
	(rb_view_clipboard_paste), (rb_view_clipboard_delete):
	* lib/view/rb-view-clipboard.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_key_press_event_cb):
	* lib/widgets/rb-node-view.h:
	* library/rb-library-xml-thread.c: (thread_main):
	* shell/rb-shell-clipboard.c: (rb_shell_clipboard_get_type),
	(rb_shell_clipboard_sync), (rb_shell_clipboard_cmd_paste),
	(rb_shell_clipboard_cmd_delete):
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync), (ui_pref_changed), (style_changed_cb),
	(show_toolbar_toggled_cb), (show_sidebar_toggled_cb),
	(show_statusbar_toggled_cb):
	* shell/rb-shell-preferences.h:
	* shell/rb-shell.c: (rb_shell_construct),
	(rb_shell_view_toolbar_changed_cb),
	(rb_shell_view_statusbar_changed_cb),
	(rb_shell_view_sidebar_changed_cb), (rb_shell_list_views),
	(rb_shell_sync_toolbar_visibility),
	(rb_shell_sync_statusbar_visibility),
	(rb_shell_sync_sidebar_visibility), (rb_shell_sync_toolbar_style),
	(toolbar_visibility_changed_cb), (statusbar_visibility_changed_cb),
	(sidebar_visibility_changed_cb), (toolbar_style_changed_cb):
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_clipboard_init), (rb_group_view_can_delete),
	(rb_group_view_paste), (rb_group_view_delete):
	* views/rb-library-view.c: (rb_library_view_set_property),
	(rb_library_view_clipboard_init), (rb_library_view_can_cut),
	(rb_library_view_can_delete), (rb_library_view_cut),
	(rb_library_view_paste), (rb_library_view_delete):

	More HIG-compliant menu system, prefswin.

2002-08-23  Kristian Rietveld  <kris@gtk.org>

	* lib/widgets/eggtreemodelfilter.c
	(egg_tree_model_filter_iter_n_children): return the number of
	_visible_ nodes,
	library/rb-library-xml-thread.c (thread_main): emit
	finished_preloading after 150 media files,
	library/rb-library.[ch]: add finished_preloading signal,
	library/rb-node.c (rb_node_action_queue_cb): process multiple
	nodes in each idle,
	(rb_node_add_action): changed priority to something lower than
	the gdk redraw priority,
	shell/rb-shell.c: show main window if we get a finished_preloading
	signal.

2002-08-22  xan
	    Olivier Martin <omartin@ifrance.com>

	* lib/rb-file-helpers.c:

	Remove headers not needed.

2002-08-22  Olivier Martin <omartin@ifrance.com>

	* lib/widgets/rb-song-info.c: (rb_song_info_init):

	HIG: give focus to the title.

2002-08-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/Makefile.am:
	* data/rhythmbox.applications:
	* data/rhythmbox.desktop.in:
	* lib/rb-file-helpers.c: (is_valid_scheme_character),
	(remove_internal_relative_components), (is_uri_partial),
	(eel_uri_make_full_from_relative),
	(file_uri_from_local_relative_path), (has_valid_scheme),
	(rb_uri_resolve_relative):
	* lib/rb-file-helpers.h:
	* shell/RhythmboxShell.idl:
	* shell/main.c: (main), (rb_init), (rb_handle_cmdline):
	* shell/rb-shell.c: (rb_shell_class_init),
	(rb_shell_corba_add_to_library), (rb_shell_construct),
	(rb_shell_set_window_title):

	Support adding files to lib from the cmdline, install
	applications file.

2002-08-21  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_init),
	(rb_sidebar_button_button_press_event_cb),
	(rb_sidebar_button_item_factory_translate_func),
	(rb_sidebar_button_popup_open_cb):

	Include an "Open" item on the top of the button context menu.

2002-08-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:
	* lib/rb-dialog.c: (rb_ask_file_multiple), (rb_ask_file),
	(rb_ask_string):
	* lib/rb-dialog.h:
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_finalize),
	(ask_string_response_cb), (rb_sidebar_button_rename):
	* lib/widgets/rb-song-info.c: (rb_song_info_init),
	(rb_song_info_populate_dialog), (rb_song_info_update_title),
	(rb_song_info_update_comments), (rb_song_info_update_entry),
	(rb_song_info_update_genre), (rb_song_info_update_channels):
	* shell/rb-shell-preferences.c:
	(music_base_folder_browse_clicked_cb):
	* shell/rb-shell.c: (ask_file_response_cb),
	(rb_shell_cmd_add_to_library), (ask_string_response_cb),
	(rb_shell_cmd_new_group):

	HIG-compliant dialogs

2002-08-20  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-song.c: (rb_node_song_sync):
	* views/rb-library-view.c: (artist_deleted_cb):

	Fix node deletion.

2002-08-20  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/Makefile.am:
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_init),
	(rb_sidebar_button_set_property), (rb_sidebar_button_rename),
	(rb_sidebar_button_add_dnd_targets), (event_for_parent),
	(default_drag_leave), (default_drag_motion),
	(default_drag_data_received), (dnd_init):
	* lib/widgets/rb-sidebar-button.h:
	* lib/widgets/rb-sidebar-private.h:
	* lib/widgets/rb-sidebar.c: (rb_sidebar_init),
	(rb_sidebar_event_box_drag_data_received_cb),
	(rb_sidebar_get_dnd_info), (rb_sidebar_show_dnd_hint),
	(rb_sidebar_event_box_drag_leave_cb), (rb_sidebar_button_from_id),
	(rb_sidebar_hide_dnd_hint), (rb_sidebar_button_dropped),
	(rb_sidebar_get_button_pos):
	* lib/widgets/rb-sidebar.h:
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_drop_cb):
	* views/rb-library-view.c: (rb_library_view_init),
	(rb_library_view_set_property), (artist_deleted_cb),
	(album_deleted_cb), (rb_library_view_drop_cb):

	Fix sidebar reorder (phew).

	GTK: Blow me.

2002-08-18  Jorn Baayen  <jorn@nl.linux.org>

	* lib/rb-debug.c: (rb_debug_real), (log_handler),
	(rb_profiler_new), (rb_profiler_dump), (rb_profiler_reset),
	(rb_profiler_free):
	* lib/rb-debug.h:
	* library/rb-library-main-thread.c:
	* library/rb-library-xml-thread.c: (thread_main):
	* library/rb-node.c: (rb_node_class_init),
	(rb_node_system_handle_action), (rb_node_changed):
	* library/rb-node.h:

	Remove "changed" signal since it was unused and caused unnecessary
	overhead, and introduce profiling functions.

2002-08-18  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-node-view.c: (bool_to_int),
	(rb_node_view_construct):
	* lib/widgets/rb-sidebar.c: (rb_sidebar_save_layout),
	(rb_sidebar_load_layout):
	* library/rb-library-xml-thread.c: (thread_main):
	* library/rb-library.c: (rb_library_save):
	* library/rb-library.h:
	* library/rb-node.c: (rb_node_save_to_xml):
	* views/rb-group-view.c: (rb_group_view_save),
	(rb_group_view_load):

	Give XML files version tags, and clean up some of the formats.

2002-08-18  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/Makefile.am:

	Proper CLEANFILES.
	
	* lib/Makefile.am:

	Add rb-enums.h

	* shell/rb-shell.c: (rb_shell_finalize):

	unref file monitor

2002-08-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-sort.c:
	(rb_tree_model_sort_multi_drag_data_get):
	* views/rb-group-view.c: (rb_group_view_drop_cb):

	Make DND to groups work.

2002-08-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_key_press_event_cb),
	(root_child_destroyed_cb), (rb_node_view_scroll_to_string):
	* lib/widgets/rb-node-view.h:
	* library/rb-library-xml-thread.c: (thread_main):
	* library/rb-node-song.c: (rb_node_song_sync),
	(rb_node_song_has_album), (rb_node_song_init):
	* library/rb-node-song.h:
	
	Make deleting nodes work.

2002-08-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-sort.c:
	(rb_tree_model_sort_multi_drag_data_get):
	* library/rb-node.c: (rb_node_dispose),
	(rb_node_system_handle_action), (rb_node_add_child),
	(rb_node_remove_child), (rb_node_parent_index),
	(rb_node_system_init), (rb_node_add_action), (rb_node_is_handled),
	(rb_node_set_handled):

	Squash a lot of node bugs, and make it a lot faster.

2002-08-15  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:

	Added ru to ALL_LINGUAS

2002-08-14  Jorn Baayen  <jorn@nl.linux.org>

	* lib/view/rb-view-player.c: (rb_view_player_set_playing_view),
	(rb_view_player_get_playing_view):
	* lib/view/rb-view-player.h:
	* lib/view/rb-view.c: (rb_view_get_description):
	* lib/view/rb-view.h:
	* lib/widgets/rb-player.c: (rb_player_sync):
	* shell/rb-shell-player.c: (rb_shell_player_class_init),
	(rb_shell_player_set_property), (rb_shell_player_get_property),
	(rb_shell_player_new), (rb_shell_player_set_playing_player):
	* shell/rb-shell-player.h:
	* shell/rb-shell.c: (rb_shell_construct),
	(rb_shell_sidebar_size_allocate_cb), (rb_shell_list_views):
	* shell/rb-shell.h:
	* views/rb-group-view.c: (rb_group_view_class_init),
	(rb_group_view_finalize), (rb_group_view_set_property),
	(rb_group_view_player_init), (rb_group_view_drop_cb),
	(impl_get_description), (rb_group_view_set_playing_view),
	(rb_group_view_get_playing_view):
	* views/rb-library-view.c: (rb_library_view_class_init),
	(rb_library_view_player_init), (rb_library_view_drop_cb),
	(impl_get_description), (rb_library_view_set_playing_view),
	(rb_library_view_get_playing_view):

	replace "Not Playing" by "Playing from XXX", if a non-selected
	source is playing.

2002-08-14  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_get_node_visible):
	* lib/widgets/rb-node-view.h:
	* views/rb-group-view.c: (rb_group_view_cmd_current_song):
	* views/rb-library-view.c: (rb_library_view_cmd_current_song):

	If node is not visible when jumping to it, adjust filtering
	to show it.

2002-08-14  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:
	* lib/Makefile.am:
	* lib/rb-string-helpers.c: (rb_prefix_to_suffix):
	* lib/rb-string-helpers.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_scroll_to_node),
	(rb_node_view_key_press_event_cb), (tree_view_size_allocate_cb),
	(rb_node_view_scroll_to_string):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_value):

	Pressing a letter in a nodeview will select any node beginning with that
	letter.

	Also turn of sorting by default for now.

2002-08-14  Jorn Baayen  <jorn@nl.linux.org>

	* lib/rb-file-helpers.c: (rb_uri_resolve_symlink),
	(rb_uri_is_directory), (rb_uri_exists):
	* lib/rb-file-helpers.h:
	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library.c: (rb_library_add_uri):

	Check for file existance when loading from XML.

2002-08-14  Olivier Martin <omartin@ifrance.com>

	* TODO:
	* lib/widgets/rb-song-info.c: (rb_song_info_init),
	(rb_song_info_finalize), (rb_song_info_set_property),
	(rb_song_info_new), (rb_song_info_populate_dialog),
	(song_info_back_clicked_cb), (song_info_forward_clicked_cb),
	(rb_song_info_update_buttons), (rb_song_info_node_deleted_cb),
	(rb_song_info_view_changed_cb),
	(rb_song_info_update_current_values):
	* lib/widgets/rb-song-info.h:

	Cleanup of the song information dialog. Also improve the buttons
	layout so that they don't move.

2002-08-14  Jorn Baayen  <jorn@nl.linux.org>

	* lib/rb-file-helpers.c: (rb_is_directory):
	* lib/rb-file-helpers.h:
	* library/rb-library.c: (rb_library_add_uri):

	Dir DND.

2002-08-14  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (uri_from_sort_iter_cb),
	(rb_node_view_construct):
	* lib/widgets/rb-tree-model-sort.c:
	(rb_tree_model_sort_class_init), (rb_tree_model_sort_init),
	(rb_tree_model_sort_finalize), (rb_tree_model_sort_new),
	(rb_tree_model_sort_multi_drag_source_init),
	(rb_tree_model_sort_multi_drag_data_get):
	* lib/widgets/rb-tree-model-sort.h:
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_drop_cb):
	* views/rb-library-view.c: (rb_library_view_init),
	(rb_library_view_drop_cb):

	DND cleanup.

2002-08-14  Olivier Martin <omartin@ifrance.com>

	* TODO:
	* lib/widgets/Makefile.am:
	* lib/widgets/eggtreemultidnd.c:
	(egg_tree_multi_drag_source_get_type),
	(egg_tree_multi_drag_source_row_draggable),
	(egg_tree_multi_drag_source_drag_data_delete),
	(egg_tree_multi_drag_source_drag_data_get), (stop_drag_check),
	(egg_tree_multi_drag_button_release_event), (selection_foreach),
	(path_list_free), (set_context_data), (get_context_data),
	(get_info), (egg_tree_multi_drag_drag_data_get),
	(egg_tree_multi_drag_motion_event),
	(egg_tree_multi_drag_button_press_event),
	(egg_tree_multi_drag_add_drag_support):
	* lib/widgets/eggtreemultidnd.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct):
	* lib/widgets/rb-tree-model-sort.c: (rb_tree_model_sort_get_type),
	(rb_tree_model_sort_class_init), (rb_tree_model_sort_init),
	(rb_tree_model_sort_finalize), (rb_tree_model_sort_new),
	(rb_tree_model_sort_multi_drag_source_init),
	(rb_tree_model_sort_multi_row_draggable),
	(rb_tree_model_sort_multi_drag_data_get),
	(rb_tree_model_sort_multi_drag_data_delete):
	* lib/widgets/rb-tree-model-sort.h:
	* views/rb-library-view.c: (rb_library_view_drop_cb):

	Implement drag from the songs view. Thus one can select songs
	from the library and drag them to a group.
	Thanks jorn on this one!
	(will completely work once the bugs in the group view have been fixed ;)

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* lib/rb-file-helpers.c: (rb_file_helpers_shutdown),
	(rb_resolve_symlink):
	* lib/rb-file-helpers.h:
	* library/rb-library-main-thread.c: (thread_main):

	Resolve symlinks.

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/music-folders.glade:
	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/Makefile.am:
	* lib/rb-file-monitor.c: (rb_file_monitor_get_type),
	(rb_file_monitor_class_init), (handle_free),
	(rb_file_monitor_init), (rb_file_monitor_finalize),
	(rb_file_monitor_new), (monitor_callback), (rb_file_monitor_add),
	(rb_file_monitor_remove), (rb_file_monitor_get):
	* lib/rb-file-monitor.h:
	* library/rb-library-main-thread.c: (file_changed_cb),
	(file_removed_cb), (rb_library_main_thread_init), (thread_main):
	* library/rb-library.c: (xml_thread_done_loading_cb):
	* library/rb-node-song.c: (rb_node_song_update_if_newer):

	Hide prefs for now since there's no use for base folder atm
	(no ripping etc yet), only file to get files into your lib
	is by "Add to library" (which also supports dirs now).
	Files will be monitored by the new RBFileMonitor, which tries
	to make use of GnomeVFSMonitor stuff as efficiently as possible.

	Olivier, please make use of RBFileMonitor also for the songinfo
	dialog.

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* shell/rb-shell.c: (rb_shell_cmd_add_to_library):

	Better description for "Add to library"

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* library/Makefile.am:
	* library/rb-library-action.c: (rb_library_action_type_get_type):
	* library/rb-library-action.h:
	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library-walker-thread.c:
	(rb_library_walker_thread_get_type),
	(rb_library_walker_thread_class_init),
	(rb_library_walker_thread_init),
	(rb_library_walker_thread_finalize),
	(rb_library_walker_thread_new),
	(rb_library_walker_thread_set_property),
	(rb_library_walker_thread_get_property), (add_directory),
	(thread_main):
	* library/rb-library-walker-thread.h:
	* library/rb-library-watcher-thread.c:
	* library/rb-library-watcher-thread.h:
	* library/rb-library-xml-thread.c: (thread_main):
	* library/rb-library.c: (rb_library_init), (rb_library_finalize),
	(rb_library_add_uri), (push_base_folder), (pref_changed_cb),
	(xml_thread_done_loading_cb), (rb_library_get_main_queue),
	(rb_library_get_walker_queue), (rb_library_release_brakes):
	* library/rb-library.h:
	* library/rb-node-song.c: (rb_node_song_sync):
	* shell/rb-shell.c: (rb_shell_cmd_add_to_library):
	* views/rb-group-view.c: (rb_group_view_drop_cb):
	* views/rb-library-view.c: (rb_library_view_drop_cb):

	Implement new library watching concept:

	We only have the base folder pref, but adding whole directories
	via the dialog is possible.

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/music-folders.glade:

	Add some more information to the prefswin.

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.schemas:
	* lib/rb-dialog.c: (rb_ask_file_multiple), (rb_ask_file):
	* lib/rb-dialog.h:
	* shell/rb-shell-preferences.c:
	(music_base_folder_browse_clicked_cb):
	* shell/rb-shell.c: (rb_shell_cmd_add_to_library):

	Store fileselector state.

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:

	Put default sort order back.

2002-08-13  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/music-folders.glade:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/rb-enums.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_get_node),
	(rb_node_view_get_next_node), (rb_node_view_get_previous_node),
	(rb_node_view_get_n_rows), (rb_node_view_get_visible_nodes),
	(root_child_destroyed_cb):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-song-info.c: (song_info_back_clicked_cb),
	(song_info_forward_clicked_cb):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (rb_node_n_handled_children),
	(rb_node_get_nth_handled_child), (rb_node_handled_child_index),
	(rb_tree_model_node_get_iter), (rb_tree_model_node_get_path),
	(rb_tree_model_node_iter_n_children),
	(rb_tree_model_node_iter_nth_child):
	* library/rb-library-preferences.h:
	* library/rb-library-watcher-thread.c:
	(rb_library_watcher_thread_init), (thread_main):
	* library/rb-library.c: (rb_library_finalize),
	(rb_library_create_skels), (rb_library_save):
	* library/rb-node-iterator.c: (rb_node_iterator_next):
	* library/rb-node.c: (rb_node_system_handle_action),
	(rb_node_action_queue_cb), (rb_node_system_flush),
	(rb_node_add_action), (rb_node_is_handled), (rb_node_set_handled):
	* library/rb-node.h:
	* shell/rb-shell-player.c: (rb_shell_player_stop):
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync), (library_pref_changed):
	* shell/rb-shell.c: (rb_shell_cmd_preferences):

	Fix async problems, this seems to fix sorting as well. Also started
	removing extra music folders.

2002-08-13  Olivier Martin <omartin@ifrance.com>

	* lib/widgets/rb-node-view.c:
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-song-info.c: (rb_song_info_class_init),
	(rb_song_info_init), (rb_song_info_finalize),
	(rb_song_info_set_property), (rb_song_info_get_property),
	(rb_song_info_new), (rb_song_info_update_entry),
	(rb_song_info_update_track), (rb_song_info_update_genre),
	(rb_song_info_update_bitrate), (rb_song_info_update_channels),
	(rb_song_info_update_size), (rb_song_info_update_duration),
	(rb_song_info_update_location), (song_info_back_clicked_cb),
	(song_info_forward_clicked_cb):
	* lib/widgets/rb-song-info.h:
	* views/rb-group-view.c: (rb_group_view_cmd_song_info):
	* views/rb-library-view.c: (rb_library_view_cmd_song_info):

	Add the buttons up/down to the song information dialog that
	let you browse the songs from view.

2002-08-11  Olivier Martin <omartin@ifrance.com>
            Jorn Baayen  <jorn@nl.linux.org>

	* library/Makefile.am:
	* library/rb-library-action-queue.c:
	(rb_library_action_queue_finalize), (rb_library_action_queue_add),
	(rb_library_action_queue_peek_head),
	(rb_library_action_queue_pop_head):
	* library/rb-library-action-queue.h:
	* library/rb-library-action.c: (rb_library_action_get_type),
	(rb_library_action_class_init), (rb_library_action_init),
	(rb_library_action_finalize), (rb_library_action_dispose),
	(rb_library_action_set_property), (rb_library_action_get_property),
	(rb_library_action_new), (rb_library_action_get),
	(rb_library_action_type_get_type):
	* library/rb-library-action.h:
	* library/rb-library-watcher-thread.c: (add_directory):
	* library/rb-library.c: (rb_library_add_file):
	* library/rb-node-song.c: (rb_node_song_sync):
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_remove_file), (dnd_add_handled_cb),
	(rb_group_view_drop_cb):
	* views/rb-library-view.c: (rb_library_view_init),
	(rb_library_view_set_property), (rb_library_view_cmd_song_info),
	(rb_library_view_drop_cb):

	Add DND from external apps, action queue actions are now objects
	with a "handled" signal, and actions can have priority so that
	they are pushed in front of the queue instead of put at the end.

2002-08-11  Jeffrey Baker  <jwbaker@acm.org>

	* lib/rb-dialog.c: (rb_ask_file_multiple):
	* lib/rb-dialog.h:
	* shell/rb-shell.c: (rb_shell_cmd_add_to_library):

	This patch allows the user to select multiple files from the "Add to
	library" file picker.

2002-08-11  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.schemas:

	Fix #90433

2002-08-11  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_sync):

	s/ /| for allmusic urls

2002-08-11  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node.c: (rb_node_add_child):

	child_created was never emitted

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_construct):

	No dialog telling the user registartion failed,
	a g_message is enough.

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:

	Remove panel dependency
	
	* data/art/Makefile.am:
	* data/art/splash-groups.png:
	* data/art/splash-library.png:
	* data/art/splash-ui.png:
	* data/art/splash.png:
	* lib/widgets/Makefile.am:
	* lib/widgets/e-splash.c:
	* lib/widgets/e-splash.h:
	* lib/widgets/rb-node-view.c: (tree_view_size_allocate_cb):
	* library/rb-library.c: (rb_library_init),
	(rb_library_get_action_queue), (rb_library_release_brakes):
	* library/rb-library.h:
	* library/rb-node.c: (rb_node_add_action):
	* shell/rb-shell.c: (rb_shell_construct):

	Remove splashscreen, only start loading lib when the mainwindow
	is shown.

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node.c: (rb_node_system_shutdown):

	Only remove idle if != 0

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-action-queue.c:
	(rb_library_action_queue_peek_head):
	* library/rb-library-main-thread.c: (thread_main):

	Fix crash with empty queue.

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library-preferences.h:
	* library/rb-node.c: (rb_node_dispose), (rb_node_action_queue_cb),
	(rb_node_system_init), (rb_node_system_shutdown),
	(rb_node_add_action):

	Lock actions_idle_func ..

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_get_n_rows),
	(rb_node_view_get_visible_nodes):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):
	* library/rb-library.c: (rb_library_finalize), (rb_library_save):
	* library/rb-node-iterator.c: (rb_node_iterator_next):
	* library/rb-node.c: (rb_node_get_children), (rb_node_get_parents),
	(rb_node_has_parent), (rb_node_get_property),
	(rb_node_get_nth_child), (rb_node_child_index),
	(rb_node_n_children), (rb_node_has_child), (rb_node_n_parents),
	(rb_node_get_nth_parent), (rb_node_system_shutdown):
	* library/rb-node.h:
	* views/rb-group-view.c: (rb_group_view_finalize),
	(rb_group_view_save):

	Remove need for hacky external locking.

2002-08-10  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-action-queue.c:
	(rb_library_action_queue_init), (rb_library_action_queue_finalize),
	(rb_library_action_queue_add), (rb_library_action_queue_is_empty),
	(rb_library_action_queue_peek_head),
	(rb_library_action_queue_pop_head):
	* library/rb-node.c: (rb_node_dispose),
	(rb_node_set_object_property), (rb_node_action_queue_cb),
	(rb_node_set_property), (rb_node_from_id), (rb_node_system_init),
	(rb_node_system_shutdown), (rb_node_get_genre_by_name),
	(rb_node_get_artist_by_name), (rb_node_get_album_by_name),
	(rb_node_get_song_by_uri), (rb_node_add_action):

	Better locking.

2002-08-10  Olivier Martin <omartin@ifrance.com>

	* library/rb-node.c: (rb_node_action_queue_cb),
	(rb_node_add_child), (rb_node_remove_child),
	(rb_node_child_changed_cb), (rb_node_child_destroyed_cb),
	(rb_node_changed), (rb_node_unref), (rb_node_system_init),
	(rb_node_system_shutdown), (rb_node_get_song_by_uri),
	(rb_node_add_action):

	Use an idle func instead of a timeout. Get ready for some speeeed :)

2002-08-09  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-xml-thread.c: (thread_main):

	Don't check the mtime when inserting songs from XML, will 
	be done anyway by the watcher thread.

2002-08-08  Olivier Martin <omartin@ifrance.com>

	* library/rb-node.c: (rb_node_set_property):

	Avoid inserting songs twice.

2002-08-05  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-tree-model-node.c:
	* library/rb-node.c: (rb_node_new_from_xml),
	(rb_node_action_queue_timeout_cb):

	Seems to kind of work.

2002-08-04  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-node.c: (rb_node_add_child), (rb_node_remove_child):

	Fix a deadlock.

2002-08-04  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node-song.c: (rb_node_song_destroyed_cb),
	(rb_node_song_sync):

	Refcounting ..

2002-08-04  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):
	* library/rb-library-main-thread.c: (thread_main):
	* library/rb-library-watcher-thread.c:
	(rb_library_watcher_thread_init), (add_directory), (thread_main),
	(pref_changed_cb):
	* library/rb-library-xml-thread.c:
	(rb_library_xml_thread_set_property), (thread_main):
	* library/rb-library.c: (rb_library_init), (rb_library_finalize),
	(rb_library_create_skels), (xml_thread_done_loading_cb):
	* library/rb-library.h:
	* library/rb-node-iterator.c: (rb_node_iterator_next):
	* library/rb-node-song.c: (rb_node_song_sync),
	(rb_node_song_update_if_newer):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_init), (rb_node_finalize),
	(rb_node_dispose), (rb_node_set_object_property),
	(rb_node_add_child), (rb_node_remove_child), (rb_node_has_parent),
	(rb_node_set_property), (rb_node_get_property),
	(rb_node_get_nth_child), (rb_node_child_index),
	(rb_node_n_children), (rb_node_has_child), (rb_node_n_parents),
	(rb_node_get_nth_parent), (rb_node_save_to_xml),
	(rb_node_new_from_xml), (rb_node_from_id),
	(rb_node_id_factory_new_id), (rb_node_id_factory_set_to),
	(rb_node_system_init), (rb_node_system_shutdown), (rb_node_lock),
	(rb_node_unlock), (rb_node_get_genre_by_name),
	(rb_node_get_artist_by_name), (rb_node_get_album_by_name),
	(rb_node_get_song_by_uri):
	* library/rb-node.h:
	* shell/rb-shell.c: (rb_shell_set_window_title):

	Full implementation, debugging time..

	Don't try it yet, doesnt work 

2002-08-04  Bastien Nocera  <hadess@hadess.net>

	* lib/widgets/rb-volume.c: (open_mixer): kill header mismatch
	warnings

2002-08-04  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_get_property),
	(rb_node_view_set_filter), (rb_node_view_get_status),
	(rb_node_view_get_n_rows), (rb_node_view_get_visible_nodes):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-song-info.c: (rb_song_info_set_property),
	(rb_song_info_update_location):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_class_init), (rb_tree_model_node_set_property),
	(rb_tree_model_node_get_property), (rb_tree_model_node_get_value),
	(rb_tree_model_node_set_filter), (rb_tree_model_node_get_filter),
	(filter_artist_destroyed_cb):
	* lib/widgets/rb-tree-model-node.h:
	* library/Makefile.am:
	* library/rb-library-action-queue.c:
	(rb_library_action_queue_get_type),
	(rb_library_action_queue_class_init),
	(rb_library_action_queue_init), (rb_library_action_queue_finalize),
	(rb_library_action_queue_new), (rb_library_action_queue_add),
	(rb_library_action_queue_is_empty),
	(rb_library_action_queue_peek_head),
	(rb_library_action_queue_pop_head):
	* library/rb-library-action-queue.h:
	* library/rb-library-main-thread.c:
	(rb_library_main_thread_get_type),
	(rb_library_main_thread_class_init), (rb_library_main_thread_init),
	(rb_library_main_thread_finalize), (rb_library_main_thread_new),
	(rb_library_main_thread_set_property),
	(rb_library_main_thread_get_property), (thread_main):
	* library/rb-library-main-thread.h:
	* library/rb-library-preferences.h:
	* library/rb-library-watcher-thread.c:
	(rb_library_watcher_thread_get_type),
	(rb_library_watcher_thread_class_init),
	(rb_library_watcher_thread_init),
	(rb_library_watcher_thread_finalize),
	(rb_library_watcher_thread_new),
	(rb_library_watcher_thread_set_property),
	(rb_library_watcher_thread_get_property), (thread_main):
	* library/rb-library-watcher-thread.h:
	* library/rb-library-watcher.c:
	* library/rb-library-watcher.h:
	* library/rb-library-xml-thread.c:
	(rb_library_xml_thread_get_type),
	(rb_library_xml_thread_class_init), (rb_library_xml_thread_init),
	(rb_library_xml_thread_finalize), (rb_library_xml_thread_new),
	(rb_library_xml_thread_set_property),
	(rb_library_xml_thread_get_property), (thread_main),
	(done_loading), (done_loading_timeout_cb):
	* library/rb-library-xml-thread.h:
	* library/rb-library.c: (rb_library_get_type), (rb_library_init),
	(rb_library_finalize), (rb_library_add_file),
	(rb_library_remove_node), (rb_library_create_skels),
	(child_created_cb), (child_destroyed_cb),
	(xml_thread_done_loading_cb), (rb_library_get_genre_by_name),
	(rb_library_get_artist_by_name), (rb_library_get_album_by_name),
	(rb_library_get_song_by_uri), (rb_library_get_action_queue):
	* library/rb-library.h:
	* library/rb-node-song.c: (rb_node_song_sync),
	(rb_node_song_set_location), (rb_node_song_get_location),
	(rb_node_song_update_if_newer), (rb_node_song_get_title),
	(rb_node_song_get_track_number), (rb_node_song_get_duration),
	(rb_node_song_get_duration_raw), (rb_node_song_get_file_size),
	(rb_node_song_get_file_size_raw), (rb_node_song_get_genre),
	(rb_node_song_get_genre_raw), (rb_node_song_get_artist),
	(rb_node_song_get_artist_raw), (rb_node_song_get_album),
	(rb_node_song_get_album_raw), (rb_node_song_has_genre),
	(rb_node_song_has_artist), (rb_node_song_has_album):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_init), (rb_node_finalize),
	(rb_node_dispose), (rb_node_add_child), (rb_node_remove_child),
	(rb_node_remove_parent), (rb_node_has_parent),
	(rb_node_child_changed_cb), (rb_node_child_destroyed_cb),
	(rb_node_set_property), (rb_node_get_property),
	(rb_node_get_nth_child), (rb_node_parent_index),
	(rb_node_n_parents), (rb_node_get_nth_parent),
	(rb_node_save_to_xml), (rb_node_new_from_xml), (rb_node_changed),
	(rb_node_save_property), (rb_node_ref), (rb_node_unref),
	(rb_node_action_queue_timeout_cb), (rb_node_init_action_queue),
	(rb_node_shutdown_action_queue):
	* library/rb-node.h:
	* views/rb-group-view.c: (rb_group_view_get_song),
	(rb_group_view_get_duration), (rb_group_view_set_playing_node):
	* views/rb-library-view.c: (artist_node_selected_cb),
	(rb_library_view_get_song), (rb_library_view_get_duration),
	(rb_library_view_set_playing_node):

	Commiting what i have so far of the new library, only manual add is
	implemented - will do xml and dir watching today.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell-player.c: (rb_shell_player_stop):
	* shell/rb-shell-player.h:
	* shell/rb-shell.c: (rb_shell_finalize):

	Stop playing asap at quit.

2002-08-03  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" to the languages' list.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(root_child_destroyed_cb), (tree_view_size_allocate_cb):

	Malden, Saturday 3 August 2002 - Rhythmbox, Inc has released it's new
	GtkTreeView sizing techniques to the world. This award-winning
	technology allows columns in a GtkTreeView to be sized satisfactorily
	without having the user to manually fiddle with them.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct):

	Sort by tracknumber by default

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/music-folders.glade:
	* data/rhythmbox.schemas:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_sync), (remove_folder_clicked_cb):

	Remove unused "include audio cd" pref.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-group-view.xml.in:
	* lib/rb-dialog.c: (rb_ask_string):
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_class_init),
	(rb_sidebar_button_init), (rb_sidebar_button_finalize),
	(rb_sidebar_button_set_property), (rb_sidebar_button_get_property),
	(rb_sidebar_button_new), (rb_sidebar_button_popup_rename_cb),
	(rb_sidebar_button_rename):
	* lib/widgets/rb-sidebar-button.h:
	* lib/widgets/rb-sidebar.c:
	(rb_sidebar_event_box_drag_data_received_cb):
	* tests/testview2.c: (rb_test_view2_init):
	* views/rb-group-view.c: (rb_group_view_init):
	* views/rb-library-view.c: (rb_library_view_init):

	Popup a dialog asking a new name when renaming a group.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-group-view.xml.in:

	Better rename/delete group tip.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.desktop.in:
	* data/ui/rhythmbox-ui.xml.in:
	* shell/rb-shell.c: (rb_shell_construct):

	Call rb "Music Player" in most places (except for the about box)

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view.c: (rb_view_class_init), (rb_view_set_property),
	(rb_view_merge_ui), (get_active_foreach_func), (rb_view_deleted),
	(sidebar_button_deleted_cb):
	* lib/view/rb-view.h:
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_rename):
	* lib/widgets/rb-sidebar-button.h:
	* shell/rb-shell.c: (rb_shell_append_view),
	(rb_shell_view_deleted_cb):
	* views/rb-group-view.c: (rb_group_view_cmd_song_info),
	(rb_group_view_cmd_rename_group), (rb_group_view_cmd_delete_group):

	Ability to rename and remove groups from the file menu,
	now we're really ready for release - the waiting is for 
	a new gstreamer.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-link.c: (rb_link_class_init),
	(rb_link_set_property), (rb_link_get_property), (rb_link_set):
	* lib/widgets/rb-link.h:
	* lib/widgets/rb-player.c: (rb_player_sync):

	Useful link tooltip.

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/about-logo.png:

	Use normal icon as about logo again, the splash image
	was a bit biggish :)
	
	* lib/widgets/rb-player.c:

	Dont make song title bold anymore, looks kinda bad.
	(I used to use a font which didnt have a bold version..
	which explains this late change :P )

2002-08-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* views/rb-group-view.c: (rb_group_view_cmd_current_song):
	* views/rb-library-view.c: (rb_library_view_cmd_current_song):

	"Jump to current song" improvements.

2002-08-02  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/ui/Makefile.am:
	* shell/Makefile.am: upd, some files need to be deleted and weren't

2002-08-01  Olivier Martin <omartin@ifrance.com>

	* lib/widgets/rb-player.c:

	Added a tooltip on the elapsed text, to let the user know
	he can click on it to display remaining or total time.

2002-08-01  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:

	Better shuffle tooltip.

2002-07-31  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/rhythmbox-shuffle.png:

	Neat new shuffle icon by jimmac, thanks!

2002-07-31  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_column_get_type):
	* library/rb-node.c: (rb_node_type_get_type),
	(rb_node_property_get_type):

	NULL-terminate enum registration structures, pointed
        out by walters on IRC.

2002-07-30  Bastien Nocera  <hadess@hadess.net>

        * shell/main.c: (main): add the DATADIR property
	* shell/rb-shell.c: (rb_shell_init): use the APP_PIXMAP
	domain to get the location of the image

2002-07-30  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_remove_view),
	(rb_shell_sidebar_button_deleted_cb), (rb_shell_cmd_new_group):
	* views/rb-group-view.c: (rb_group_view_set_property),
	(rb_group_view_new), (rb_group_view_load),
	(rb_group_view_cmd_song_info), (rb_group_view_remove_file):
	* views/rb-group-view.h:

	Crash-proofify groups.

2002-07-30  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "no" to ALL_LINGUAS.
	
2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-watcher.c: (rb_library_watcher_add_directory):

	Don't use gnome_vfs_monitor for now, too buggy.

2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-song-info.c: (rb_song_info_update_track):

	strstrip tracknum tokens

2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:
	* lib/widgets/rb-song-info.c: (rb_song_info_init):

	Fix some sizing probs.

2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:
	* lib/widgets/rb-song-info.c: (rb_song_info_populate_dialog),
	(rb_song_info_update_genre), (rb_song_info_update_location):

	Make genre optionmenu work.

2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* views/rb-group-view.c: (node_view_changed_cb),
	(rb_group_view_cmd_song_info):
	* views/rb-library-view.c: (node_view_changed_cb),
	(rb_library_view_cmd_song_info):

	Render SongInfo insensitive when htere is no selection.

2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/song-info.glade:
	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/widgets/rb-song-info.c: (rb_song_info_get_type),
	(rb_song_info_class_init), (rb_song_info_init),
	(rb_song_info_finalize), (rb_song_info_set_property),
	(rb_song_info_get_property), (rb_song_info_new),
	(rb_song_info_response_cb), (rb_song_info_populate_dialog),
	(rb_song_info_update_entry), (rb_song_info_update_track),
	(rb_song_info_update_bitrate), (rb_song_info_update_channels),
	(rb_song_info_update_size), (rb_song_info_update_duration),
	(rb_song_info_update_location):

	Fix leaks, bugs, and code duplication. Also polish some bits.

2002-07-28  Olivier Martin  <omartin@ifrance.com>

	* data/glade/Makefile.am:
	* data/glade/song-info.glade:
	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/widgets/Makefile.am:
	* lib/widgets/rb-song-info.c: (rb_song_info_get_type),
	(rb_song_info_class_init), (rb_song_info_init),
	(rb_song_info_finalize), (rb_song_info_set_property),
	(rb_song_info_get_property), (rb_song_info_new),
	(rb_song_info_window_delete_cb), (rb_song_info_response_cb),
	(rb_song_info_populate_dialog), (rb_song_info_update_title),
	(rb_song_info_update_artist), (rb_song_info_update_album),
	(rb_song_info_update_year), (rb_song_info_update_track),
	(rb_song_info_update_comments), (rb_song_info_update_bitrate),
	(rb_song_info_update_channels), (rb_song_info_update_size),
	(rb_song_info_update_duration), (rb_song_info_update_location):
	* lib/widgets/rb-song-info.h:
	* views/rb-group-view.c: (filename_from_name),
	(rb_group_view_cmd_song_info):
	* views/rb-library-view.c: (rb_library_view_show_browser),
	(rb_library_view_cmd_song_info):

	Add song info dialog.

2002-07-28  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/Makefile.am:
	* lib/widgets/eggtreemodelfilter.c:
	* lib/widgets/eggtreemodelfilter.h:
	* lib/widgets/gtktreemodelfilter.c:
	* lib/widgets/gtktreemodelfilter.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_get_node), (rb_node_view_get_first_node),
	(rb_node_view_get_random_node), (get_selection),
	(rb_node_view_row_activated_cb), (rb_node_view_select_node),
	(rb_node_view_scroll_to_node):
	
	Use EggTreeModelFilter.

2002-07-25  Christophe Merlet  <christophe@merlet.net>

	* configure.in: added "fr" to ALL_LINGUAS 

2002-07-23  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in: added "it" to ALL_LINGUAS 

2002-07-21  Olivier Martin  <omartin@ifrance.com>

	* data/art/rhythmbox-playing.png:

	Clean up icon

2002-07-21  Olivier Martin  <omartin@ifrance.com> 

	* lib/widgets/rb-node-view.c: (rb_node_view_scroll_to_node):

	Center scroll

2002-07-21  Olivier Martin  <omartin@ifrance.com>
            Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_init), (rb_player_finalize),
	(rb_player_sync_time), (rb_player_adjustment_value_changed_cb),
	(rb_player_elapsed_button_press_event_cb),
	(rb_player_update_elapsed):

	Clicking on the elapsed time label changes it's mode.

2002-07-21  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* lib/Makefile.am:
	* lib/rb-string-helpers.c:
	* lib/rb-string-helpers.h:
	* lib/widgets/rb-link.c: (rb_link_set_text):
	* lib/widgets/rb-player.c: (rb_player_init), (rb_player_sync):

	Remove string helpers.

2002-07-13 Marco Pesenti Gritti <marco@it.gnome.org>

	* data/Makefile.am:
	* lib/Makefile.am:
	* lib/widgets/Makefile.am:
	* library/Makefile.am: use buildir where appropriate.
	Fix out of source dir build.

2002-07-12 Marco Pesenti Gritti <marco@it.gnome.org>

	* TODO
	* lib/widgets/Makefile.am
	* lib/widgets/eel-ellipsizing-label.c: remove
	* lib/widgets/eel-ellipsizing-label.h: remove
	* lib/widgets/eel-gtk-macros.h: remove
	* lib/widgets/eel-pango-extensions.c: remove
	* lib/widgets/eel-pango-extensions.h: remove
	* lib/widgets/rb-ellipsizing-label.c: 
	* lib/widgets/rb-ellipsizing-label.h: eelipsizing label
	supporting markup, based on the eel one
	* lib/widgets/rb-player.c:
	* lib/widgets/rb-sidebar-button.c:
	* views/rb-group-view.c:
	* views/rb-library-view.c: let's use the new label

2002-07-11  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2002-07-10  Thomas Vander Stichele <thomas@apestaart.org>

  	* configure.in:
	* lib/rb-file-helpers.c:
	Added a way to find files (images) when running uninstalled

2002-07-05  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/Makefile.am:
	* data/art/rhythmbox-volume-max.png:
	* data/art/rhythmbox-volume-medium.png:
	* data/art/rhythmbox-volume-min.png:
	* data/art/rhythmbox-volume-mute.png:
	* data/art/rhythmbox-volume-zero.png:
	* lib/rb-stock-icons.c: (rb_stock_icons_init):
	* lib/rb-stock-icons.h:
	* lib/widgets/rb-volume.c: (rb_volume_instance_init):
	* lib/widgets/volume-max.xpm:
	* lib/widgets/volume-medium.xpm:
	* lib/widgets/volume-min.xpm:
	* lib/widgets/volume-mute.xpm:
	* lib/widgets/volume-zero.xpm:

	Make volume icons themable, have nicer default icons.

	* shell/main.c: (main):

	--no-registartion option, so you can run multiple rbs at the same time
	for debugging and stuff.

2002-07-05  Olivier Martin  <omartin@ifrance.com>
            Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:

	Add more keybindings.

2002-07-04  Jorn Baayen  <jorn@nl.linux.org>
	
	* views/rb-library-view.c: (rb_library_view_show_browser):

	Sensible paned settings.

2002-07-04  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/rhythmbox-playing.png:
	* lib/widgets/Makefile.am:
	* lib/widgets/rb-cell-renderer-pixbuf.c:
	(rb_cell_renderer_pixbuf_get_type), (rb_cell_renderer_pixbuf_init),
	(rb_cell_renderer_pixbuf_class_init),
	(rb_cell_renderer_pixbuf_get_property),
	(rb_cell_renderer_pixbuf_set_property),
	(rb_cell_renderer_pixbuf_new), (rb_cell_renderer_pixbuf_get_size),
	(eel_create_colorized_pixbuf), (rb_cell_renderer_pixbuf_render):
	* lib/widgets/rb-cell-renderer-pixbuf.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct):

	New playing state icon that recolors itself nicely.

2002-07-04  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:

	Updated, we're about ready for a release for the new gstreamer.

2002-07-03  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_value):

	In the artist list we do:
	The Cranberries -> Cranberries, The
	DJ Tiesto       -> Tiesto, DJ

2002-07-03  Jorn Baayen  <jorn@nl.linux.org>

	* views/rb-group-view.c: (rb_group_view_init):
	* views/rb-library-view.c: (rb_library_view_init):

	Hide unused search entries for now.

2002-07-03  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.schemas:
	* lib/rb-dialog.c: (rb_ask_string):
	* lib/rb-dialog.h:
	* lib/widgets/Makefile.am:
	* lib/widgets/eel-ellipsizing-label.c: (eel_strcmp),
	(eel_str_is_equal), (eel_ellipsizing_label_init), (real_finalize),
	(eel_ellipsizing_label_new), (eel_ellipsizing_label_set_text),
	(real_size_request), (real_size_allocate), (real_expose_event),
	(eel_ellipsizing_label_class_init):
	* lib/widgets/eel-ellipsizing-label.h:
	* lib/widgets/eel-gtk-macros.h:
	* lib/widgets/eel-pango-extensions.c:
	(eel_pango_attr_list_copy_or_create),
	(eel_pango_attr_list_apply_global_attribute),
	(apply_global_attribute), (eel_pango_layout_set_underline),
	(eel_pango_layout_set_weight),
	(eel_pango_layout_set_font_desc_from_string),
	(measure_string_width), (compute_character_widths),
	(eel_string_ellipsize_start), (eel_string_ellipsize_end),
	(eel_string_ellipsize_middle),
	(eel_pango_layout_set_text_ellipsized),
	(eel_pango_layout_fit_to_dimensions),
	(eel_pango_font_description_get_largest_fitting_font_size),
	(eel_pango_ft2_get_context), (eel_create_bogus_test_pango_context),
	(eel_self_check_ellipsize), (eel_self_check_ellipsize_start),
	(eel_self_check_ellipsize_middle), (eel_self_check_ellipsize_end),
	(eel_self_check_pango_extensions):
	* lib/widgets/eel-pango-extensions.h:
	* lib/widgets/rb-link.c: (rb_link_set_text):
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_init),
	(rb_sidebar_button_set_property),
	(rb_sidebar_button_drag_begin_cb),
	(rb_sidebar_button_label_size_allocate_cb):
	* shell/rb-shell.c: (rb_shell_construct), (rb_shell_cmd_new_group),
	(rb_shell_save_music_groups), (rb_shell_sidebar_size_allocate_cb):
	* views/rb-group-view.c: (rb_group_view_start_playing):
	* views/rb-library-view.c: (rb_library_view_start_playing):

	Save main paned state, use ellipsizing labels in sidebar,
	start playing from selection.

	Lots of C&P from eel. Ugh. We really need an ellipsizing label in gtk.

	* data/ui/rhythmbox-ui.xml.in:

	Remove "Get Info" for now.

2002-07-03  Dennis Smit  <synap@area101.penguin.nl> 

	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	Added control + S accel for the "view->show current song" menu entry
	       
        This is also my first patch for rhythmbox let it not be the last

2002-07-02  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_init),
	(rb_sidebar_button_set_editing):
	* shell/rb-shell.c: (rb_shell_construct):
	* views/rb-library-view.c: (rb_library_view_set_property):

	Sidebar magic.

2002-07-02  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-sidebar.c: (rb_sidebar_init):
	* library/rb-library-watcher.c: (rb_library_watcher_monitor_cb),
	(rb_library_watcher_insert_file), (rb_library_watcher_change_file):
	* library/rb-library.c: (rb_library_init),
	(rb_library_update_node), (rb_library_load),
	(rb_library_node_destroyed_cb), (rb_library_timeout_cb),
	(rb_library_timeout_process_changed_node),
	(rb_library_timeout_process_new_node),
	(rb_library_thread_check_died),
	(rb_library_thread_process_new_file),
	(rb_library_thread_process_changed_file), (rb_library_thread_main):
	* views/rb-group-view.c: (rb_group_view_finalize):

	Fix leak in groups, some sidebar aesthethic improvements,
	some file change fixing.

2002-07-01  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-group-view.xml.in:
	* data/ui/rhythmbox-library-view.xml.in:
	* lib/rb-file-helpers.c: (rb_dot_dir), (rb_ensure_dir_exists),
	(rb_file_helpers_shutdown):
	* lib/rb-file-helpers.h:
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_class_init),
	(rb_sidebar_button_set_property),
	(rb_sidebar_button_entry_activate_cb):
	* lib/widgets/rb-sidebar.c: (rb_sidebar_init),
	(rb_sidebar_finalize), (rb_sidebar_append), (rb_sidebar_remove),
	(rb_sidebar_load_layout),
	(rb_sidebar_event_box_drag_data_received_cb),
	(rb_sidebar_get_button_coords), (rb_sidebar_button_from_id):
	* library/rb-library.c: (rb_library_init):
	* library/rb-node.c: (rb_node_remove_child),
	(rb_node_new_from_xml):
	* library/rb-node.h:
	* shell/rb-shell-clipboard.c: (rb_shell_clipboard_set):
	* shell/rb-shell.c: (rb_shell_init), (rb_shell_save_music_groups):
	* views/rb-group-view.c: (rb_group_view_finalize),
	(rb_group_view_set_property), (rb_group_view_new),
	(rb_group_view_new_from_file), (song_deleted_cb),
	(rb_group_view_cut), (rb_group_view_copy),
	(sidebar_button_edited_cb), (rb_group_view_save),
	(rb_group_view_load), (filename_from_name):
	* views/rb-group-view.h:
	* views/rb-library-view.c: (rb_library_view_copy):

	Fully implement music groups.

2002-06-30  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/rhythmbox-playing.png:

	Hopefully better icon.
	
	* lib/view/rb-view.c: (rb_view_get_type), (rb_view_init):
	* lib/view/rb-view.h:
	* lib/widgets/rb-player.c: (rb_player_get_type), (rb_player_init),
	(rb_player_sync):
	* lib/widgets/rb-player.h:
	* lib/widgets/rb-sidebar.c: (rb_sidebar_get_type),
	(rb_sidebar_init):
	* lib/widgets/rb-sidebar.h:
	* shell/rb-shell-clipboard.c: (rb_shell_clipboard_set):
	* shell/rb-shell.c: (rb_shell_construct), (rb_shell_cmd_new_group),
	(rb_shell_cmd_dummy):
	* views/rb-group-view.c: (rb_group_view_init),
	(rb_group_view_finalize), (rb_group_view_set_property),
	(rb_group_view_new), (song_deleted_cb), (rb_group_view_can_paste),
	(rb_group_view_cut), (rb_group_view_paste),
	(sidebar_button_edited_cb):
	* views/rb-library-view.c: (rb_library_view_set_property):

	Implement a tiny little bit more of music groups, hide album icon
	for now since that is not implemented yet anyway (it was just sitting
	there and being ugly).

	Made sidebar a scroleldwindow, and resizable.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/Makefile.am:
	* data/art/splash-groups.png:
	* data/art/splash-library.png:
	* data/art/splash-ui.png:
	* data/art/splash.png:
	* lib/widgets/Makefile.am:
	* lib/widgets/e-splash.c:
	(widget_realize_callback_for_backing_store),
	(e_make_widget_backing_stored), (create_darkened_pixbuf),
	(icon_new), (icon_free), (layout_icons), (layout_idle_cb),
	(schedule_relayout), (impl_destroy), (class_init), (init),
	(button_press_event), (e_splash_construct), (e_splash_new),
	(e_splash_add_icon), (e_splash_set_icon_highlight):
	* lib/widgets/e-splash.h:
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_construct):

	Put splashscreen back.

	Note: I did implement loading the xml stuff in an idle so
	that stuff gets inserted into the ui on startup on the fly,
	but it was about 5 times slower than just doing it "under the splash".

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library.c: (rb_library_load), (rb_library_save),
	(rb_library_timeout_cb), (rb_library_thread_process_changed_node):
	* library/rb-node.c: (rb_node_add_child),
	(rb_node_add_grandparent):

	Do mtime checking in the thread.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-watcher.c: (rb_library_watcher_init),
	(rb_library_watcher_finalize), (rb_library_watcher_load_files),
	(rb_library_watcher_pref_changed_cb),
	(rb_library_watcher_monitor_cb),
	(rb_library_watcher_add_directory),
	(rb_library_watcher_insert_file), (rb_library_watcher_remove_file),
	(rb_library_watcher_timeout_cb), (rb_library_watcher_thread_main):

	Make library watcher threaded.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property),
	(filter_grandparent_destroyed_cb):

	Optimize filtering a bit.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library-watcher.c: (rb_library_watcher_add_directory):

	Don't break if FAM is not running.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_get_node), (rb_node_view_get_next_node),
	(rb_node_view_get_previous_node), (rb_node_view_get_first_node),
	(rb_node_view_get_random_node),
	(gtk_tree_model_sort_row_deleted_cb), (rb_node_view_get_n_rows),
	(rb_node_view_get_visible_nodes), (select_node),
	(root_child_destroyed_cb):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (root_child_destroyed_cb),
	(filter_parent_destroyed_cb), (filter_grandparent_destroyed_cb):
	* library/rb-node.c: (rb_node_finalize), (rb_node_dispose):

	Fix some bugs when the view is empty, and work around
	the treemodelfilter corruption bug.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell-player.c: (rb_shell_player_finalize):

	Don't unref mixer for now, creates crashes.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-node.c: (rb_node_dispose):

	Fix dispose.
	
	* shell/main.c: (main), (rb_init):
	* shell/rb-shell.c: (rb_shell_finalize):

	More responsive shutdown.

2002-06-23  Jorn Baayen  <jorn@nl.linux.org>

	* lib/view/rb-view.c: (rb_view_get_sidebar_button):
	* lib/widgets/rb-node-view.c: (rb_node_view_get_property),
	(rb_node_view_get_playing_node), (rb_node_view_get_n_rows),
	(rb_node_view_get_visible_nodes):
	* lib/widgets/rb-sidebar-button.c: (rb_sidebar_button_get):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_get_filter),
	(rb_tree_model_node_set_playing_node),
	(rb_tree_model_node_get_playing_node):
	* lib/widgets/rb-tree-model-node.h:
	* shell/rb-shell-clipboard.c: (rb_shell_clipboard_get_clipboard):
	* shell/rb-shell-player.c: (rb_shell_player_get_player):
	* shell/rb-shell-status.c: (rb_shell_status_get_status):
	* views/rb-group-view.c: (rb_group_view_get_file):

	Patch a few rather major leaks, fix the refcounting issue.

2002-06-22  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/rhythmbox.schemas:
	* data/ui/Makefile.am:
	* data/ui/rhythmbox-group-view.xml.in:
	* lib/rb-dialog.c: (rb_ask_file), (rb_ask_string):
	* lib/rb-dialog.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_get_random_node), (rb_node_view_get_selection),
	(gtk_tree_model_sort_row_deleted_cb), (rb_node_view_get_status),
	(rb_node_view_timeout_cb), (rb_node_view_get_n_rows),
	(rb_node_view_get_visible_nodes):
	* lib/widgets/rb-sidebar-button.c:
	(rb_sidebar_button_button_press_event_cb):
	* lib/widgets/rb-sidebar.c: (rb_sidebar_class_init),
	(rb_sidebar_button_style_set), (rb_sidebar_append):
	* library/rb-node.c: (rb_node_finalize),
	(rb_node_child_changed_cb), (rb_node_child_destroyed_cb),
	(rb_node_add_grandparent):
	* po/da.po:
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_construct),
	(rb_shell_remove_view), (rb_shell_cmd_new_group), (rb_shell_quit),
	(rb_shell_load_music_groups), (rb_shell_save_music_groups):
	* views/Makefile.am:
	* views/rb-group-view.c: (rb_group_view_get_type),
	(rb_group_view_class_init), (rb_group_view_init),
	(rb_group_view_finalize), (rb_group_view_set_property),
	(rb_group_view_get_property), (rb_group_view_new),
	(rb_group_view_new_from_file), (rb_group_view_set_name),
	(rb_group_view_get_file), (rb_group_view_player_init),
	(rb_group_view_status_init), (rb_group_view_clipboard_init),
	(rb_group_view_set_shuffle), (rb_group_view_set_repeat),
	(rb_group_view_have_next), (rb_group_view_have_previous),
	(rb_group_view_next), (rb_group_view_previous),
	(rb_group_view_get_title), (rb_group_view_get_artist),
	(rb_group_view_get_album), (rb_group_view_get_song),
	(rb_group_view_get_duration), (rb_group_view_get_pixbuf),
	(rb_group_view_get_stream), (rb_group_view_start_playing),
	(rb_group_view_stop_playing), (rb_group_view_set_playing_node),
	(song_activated_cb), (song_deleted_cb), (node_view_changed_cb),
	(song_eos_cb), (rb_group_view_get_previous_node),
	(rb_group_view_get_next_node), (rb_group_view_status_get),
	(rb_group_view_can_cut), (rb_group_view_can_copy),
	(rb_group_view_can_paste), (rb_group_view_cut),
	(rb_group_view_copy), (rb_group_view_paste),
	(rb_group_view_cmd_select_all), (rb_group_view_cmd_select_none),
	(rb_group_view_cmd_current_song), (sidebar_button_edited_cb):
	* views/rb-group-view.h:
	* views/rb-library-view.c:

	Fix a shitload of bugs, only library bugs left over i know of are:
	- sometimes gnome_vfs_monitor hanging when trying to add an uri
	- refcounting problems: everytime a node is set as filtering parent
	it's refcount gets increased, but not decreased afterward - i'm really
	confused now (i dont touch it with g_object_ref).

	Further this commit adds some skels for the group view, it's not working yet
	(it just gives you another library view atm).

2002-06-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/art/Makefile.am:
	* data/art/about-logo.png:
	* shell/rb-shell.c: (rb_shell_cmd_about):

	Nicer about logo.

2002-06-20  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library.c: (rb_library_node_destroyed_cb),
	(rb_library_timeout_cb):

	Fix node from hashes removal.

2002-06-20  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_adjustment_value_changed_cb):

	Feed correct value to _set_elapsed_time.

2002-06-19  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_key_press_event_cb):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property), (rb_tree_model_node_get_value),
	(rb_tree_model_node_set_playing_node):
	* library/rb-library.c: (rb_library_timeout_cb):
	* library/rb-node.c: (rb_node_finalize), (rb_node_add_child):
	* shell/rb-shell.c: (rb_shell_construct):
	* views/rb-library-view.c: (rb_library_view_cut):

	Fix library refcounting.

2002-06-19  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_finalize), (rb_node_view_get_selection),
	(rb_node_view_selection_changed_cb), (rb_node_view_have_selection),
	(rb_node_view_key_press_event_cb):
	* lib/widgets/rb-node-view.h:
	* shell/rb-shell.c: (rb_shell_finalize):
	* views/rb-library-view.c: (album_node_selected_cb),
	(node_view_changed_cb), (rb_library_view_can_cut),
	(rb_library_view_can_copy), (rb_library_view_cut),
	(rb_library_view_copy):

	Implement clipboard on the library view.

2002-06-19  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library.c: (rb_library_init):

	Check the new_nodes queue every 10 instead of every 100 ms,
	makes song loading a lost faster. 10 seems to still be "slow"
	enough to leave CPU usage minimal, if rhythmbox starts eating
	100% cpu for you please let me know.

2002-06-19  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_cmd_music_folders),
	(rb_shell_cmd_add_to_library):

	Support adding single files to the library.
	
	* views/rb-library-view.c: (rb_library_view_set_property),
	(song_activated_cb), (song_deleted_cb):

	Support removing single files from the library (press delete
	in the treeview).

2002-06-17  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_sync_time):
	* library/rb-library-watcher.c: (rb_library_watcher_class_init),
	(rb_library_watcher_add_directory):
	* library/rb-node.c: (rb_node_class_init):
	* shell/rb-shell-player.c: (rb_shell_player_class_init):

	Some NULL checks.

2002-06-17  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_init):

	Make song label selectable.

2002-06-17  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library.c: (rb_library_timeout_cb):

	Append grandparents before we do the parents,
	so that the treemodel handles filtering right.

2002-06-17  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library.c: (rb_library_load),
	(rb_library_thread_process_new_song),
	(rb_library_thread_process_changed_node):
	* library/rb-node-song.c: (rb_node_song_get_real_mtime):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_property_get_type):
	* library/rb-node.h:

	Do mtime matching. Once again you need to delete your library.xml.

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/Makefile.am:
	* lib/rb-string-helpers.c: (rb_string_compress):
	* lib/rb-string-helpers.h:
	* lib/widgets/rb-link.c: (rb_link_set_text):
	* lib/widgets/rb-player.c: (rb_player_sync):

	Ellipsize text in the player widget.

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* Makefile.am:
	* configure.in:
	* lib/widgets/rb-link.c: (rb_link_set_text):
	* lib/widgets/rb-node-view.c: (rb_node_view_get_random_node):
	* lib/widgets/rb-player.c: (rb_player_sync):
	* rhythmbox.spec:
	* rhythmbox.spec.in:

	Add spec to build, escape text in RBPlayer and RBLink,
	fix random for lists with only 1 item :)

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_init),
	(rb_node_view_finalize), (gtk_tree_model_sort_row_inserted_cb),
	(gtk_tree_model_sort_row_deleted_cb),
	(gtk_tree_model_sort_row_changed_cb),
	(gtk_tree_sortable_sort_column_changed_cb),
	(rb_node_view_get_status), (rb_node_view_key_press_event_cb),
	(rb_node_view_timeout_cb):

	Emit the "changed" signal from a timeout, so that we dont
	have emit the signal 10^10 times.

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* lib/widgets/rb-node-view.c: (rb_node_view_finalize),
	(rb_node_view_set_property), (rb_node_view_construct),
	(rb_node_view_sort_func), (gtk_tree_model_sort_row_inserted_cb),
	(gtk_tree_model_sort_row_deleted_cb),
	(gtk_tree_model_sort_row_changed_cb), (rb_node_view_select_none),
	(rb_node_view_select_node):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_value):
	* library/rb-library.c: (rb_library_timeout_cb):
	* views/rb-library-view.c: (rb_library_view_set_property),
	(artist_node_selected_cb):

	Automatically sort album and artist views putting the All node first,
	always have an artist & album selected, when selecting a new artist
	select the "All" album node.

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_get_property),
	(rb_node_view_new), (rb_node_view_set_filter):
	* lib/widgets/rb-node-view.h:
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_class_init), (rb_tree_model_node_set_property),
	(rb_tree_model_node_get_property), (rb_tree_model_node_get_value),
	(rb_tree_model_node_set_filter), (filter_parent_child_created_cb),
	(filter_parent_child_destroyed_cb), (filter_parent_destroyed_cb):
	* lib/widgets/rb-tree-model-node.h:
	* library/rb-library.c: (rb_library_timeout_cb):
	* views/rb-library-view.c: (artist_node_selected_cb),
	(album_node_selected_cb):

	Make "All" nodes work properly, you need to remove your
	~/.gnome2/rhythmbox/library.xml file to make it work though.

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* library/rb-library.c: (rb_library_update_node),
	(rb_library_thread_process_new_song),
	(rb_library_thread_process_changed_node), (rb_library_thread_main):
	* library/rb-node.c: (rb_node_finalize):

	Fix all FIXME.

2002-06-16  Jorn Baayen  <jorn@nl.linux.org>

	* lib/Makefile.am:
	* lib/rb-node-search.c:
	* lib/rb-node-search.h:
	* lib/rb-node.c:
	* lib/rb-node.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_status_foreach_cb),
	(rb_node_view_key_press_event_cb):
	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_init),
	(rb_tree_model_node_finalize), (rb_tree_model_node_set_property),
	(rb_tree_model_node_get_path), (rb_tree_model_node_get_value),
	(rb_tree_model_node_iter_next), (root_child_destroyed_cb),
	(root_child_created_cb), (root_destroyed_cb),
	(filter_root_child_created_cb), (filter_root_child_destroyed_cb),
	(filter_root_destroyed_cb):
	* library/Makefile.am:
	* library/rb-library-private.c:
	* library/rb-library-private.h:
	* library/rb-library-thread.c:
	* library/rb-library-thread.h:
	* library/rb-library-watcher.c: (rb_library_watcher_get_type),
	(rb_library_watcher_class_init), (rb_library_watcher_init),
	(rb_library_watcher_finalize), (rb_library_watcher_new),
	(rb_library_watcher_get_files_foreach_cb),
	(rb_library_watcher_get_files), (rb_library_watcher_load_files),
	(rb_library_watcher_pref_changed_cb),
	(rb_library_watcher_monitor_cb),
	(rb_library_watcher_add_directory),
	(rb_library_watcher_insert_file), (rb_library_watcher_remove_file):
	* library/rb-library-watcher.h:
	* library/rb-library.c: (rb_library_get_type),
	(rb_library_class_init), (rb_library_init), (rb_library_finalize),
	(rb_library_new), (rb_library_add_file), (rb_library_update_node),
	(rb_library_remove_node), (rb_library_get_all_genres),
	(rb_library_get_all_artists), (rb_library_get_all_albums),
	(rb_library_get_all_songs), (rb_library_create_skels),
	(rb_library_load), (rb_library_save), (rb_library_file_created_cb),
	(rb_library_file_changed_cb), (rb_library_file_deleted_cb),
	(rb_library_node_destroyed_cb), (rb_library_timeout_cb),
	(rb_library_thread_check_died),
	(rb_library_thread_process_new_song), (rb_library_thread_main):
	* library/rb-library.h:
	* library/rb-node-iterator.c: (rb_node_iterator_get_type),
	(rb_node_iterator_class_init), (rb_node_iterator_init),
	(rb_node_iterator_finalize), (rb_node_iterator_new),
	(rb_node_iterator_set_parent), (rb_node_iterator_set_position),
	(rb_node_iterator_next):
	* library/rb-node-iterator.h:
	* library/rb-node-song.c: (rb_node_song_get_artist_node),
	(rb_node_song_get_genre), (rb_node_song_get_artist),
	(rb_node_song_get_album):
	* library/rb-node-song.h:
	* library/rb-node.c: (rb_node_get_type), (rb_node_class_init),
	(rb_node_init), (rb_node_finalize), (rb_node_dispose),
	(rb_node_set_object_property), (rb_node_get_object_property),
	(rb_node_get_children), (rb_node_add_child), (rb_node_get_parents),
	(rb_node_add_parent), (rb_node_has_parent),
	(rb_node_child_destroyed_cb), (rb_node_child_changed_cb),
	(rb_node_get_id), (rb_node_get_node_type), (rb_node_set_property),
	(rb_node_get_property), (rb_node_get_grandparents),
	(rb_node_add_grandparent), (rb_node_has_grandparent),
	(rb_node_get_nth_child), (rb_node_child_index),
	(rb_node_n_children), (rb_node_has_child), (rb_node_save_to_xml),
	(rb_node_new_from_xml), (rb_node_changed), (rb_node_new),
	(rb_node_from_id), (rb_node_type_get_type),
	(rb_node_property_get_type), (rb_node_id_factory_new_id),
	(rb_node_id_factory_set_to), (rb_node_property_free),
	(rb_node_save_property):
	* library/rb-node.h:
	* po/POTFILES.in:
	* po/da.po:
	* shell/rb-shell.c: (rb_shell_construct):
	* views/rb-library-view.c: (rb_library_view_get_type),
	(rb_library_view_class_init), (rb_library_view_finalize),
	(rb_library_view_set_property), (rb_library_view_new),
	(rb_library_view_get_artist), (rb_library_view_get_album),
	(rb_library_view_get_song), (rb_library_view_get_duration),
	(rb_library_view_set_playing_node):
	* views/rb-library-view.h:

	Land new library, please test. All nodes and dir watching
	still buggy.

2002-06-15  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* lib/widgets/Makefile.am: Add xpms to EXTRA_DIST.

2002-06-15  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* configure.in:
	* lib/widgets/Makefile.am:
	* lib/widgets/rb-volume.c: (rb_volume_class_init),
	(rb_volume_instance_init), (rb_volume_set_property),
	(rb_volume_get_property), (rb_volume_finalize),
	(volume_changed_cb), (timeout_cb), (rb_volume_update_slider),
	(rb_volume_update_image), (open_mixer), (read_mixer),
	(update_mixer), (rb_volume_new), (rb_volume_set),
	(rb_volume_get_channel), (rb_volume_set_channel):
	* lib/widgets/rb-volume.h:
	* lib/widgets/volume-max.xpm:
	* lib/widgets/volume-medium.xpm:
	* lib/widgets/volume-min.xpm:
	* lib/widgets/volume-mute.xpm:
	* lib/widgets/volume-zero.xpm:
	* views/rb-library-view.c: (rb_library_view_init):

	Implemented volume control based on the volume control applet.

2002-06-14  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.schemas:
	* data/ui/Makefile.am:
	* data/ui/rhythmbox-library-view.xml.in:
	* data/ui/rhythmbox-test-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/Makefile.am:
	* lib/rb-bonobo-helpers.c: (rb_bonobo_get_sensitive),
	(rb_bonobo_get_active), (rb_bonobo_add_listener_list_with_data):
	* lib/rb-bonobo-helpers.h:
	* lib/view/rb-view.c: (rb_view_class_init), (rb_view_init),
	(rb_view_finalize), (rb_view_set_property), (rb_view_get_property),
	(rb_view_merge_ui), (rb_view_unmerge_ui),
	(rb_view_get_sidebar_button), (rb_view_set_sensitive),
	(rb_view_set_active), (rb_view_get_active),
	(set_sensitive_foreach_func), (set_active_foreach_func),
	(get_sensitive_foreach_func), (get_active_foreach_func):
	* lib/view/rb-view.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_construct), (rb_node_view_status_foreach_cb),
	(rb_node_view_select_all), (rb_node_view_select_none),
	(rb_node_view_scroll_to_node), (rb_node_view_key_press_event_cb):
	* lib/widgets/rb-node-view.h:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_init),
	(rb_shell_preferences_finalize), (rb_shell_preferences_sync),
	(music_base_folder_entry_changed_cb),
	(include_audiocd_check_toggled_cb), (folders_sync_to_gconf):
	* shell/rb-shell.c: (rb_shell_init), (rb_shell_finalize),
	(rb_shell_construct), (rb_shell_window_load_state),
	(rb_shell_window_save_state), (rb_shell_append_view),
	(rb_shell_shuffle_changed_cb), (rb_shell_repeat_changed_cb):
	* views/rb-library-view.c: (rb_library_view_finalize),
	(rb_library_view_set_property), (rb_library_view_new),
	(rb_library_view_set_playing_node), (paned_size_allocate_cb),
	(rb_library_view_cmd_select_all),
	(rb_library_view_cmd_select_none),
	(rb_library_view_cmd_current_song),
	(rb_library_view_show_browser_changed_cb),
	(rb_library_view_show_browser):

	Save shuffle/repeat state, add "Select All/None" and "Go to playing node"
	menuitems in the library view, support for showing and hiding the browser
	in the library, added explanastions to the schemas, use eel-gconf everywhere,
	fix repeat.

2002-06-14  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/music-folders.glade:
	* data/rhythmbox.schemas:
	* lib/Makefile.am:
	* lib/rb-dialog.c: (rb_ask_file):
	* lib/rb-dialog.h:
	* lib/rb-glade-helpers.c: (rb_glade_xml_new),
	(glade_signal_connect_func):
	* lib/rb-glade-helpers.h:
	* library/Makefile.am:
	* library/rb-library-preferences.h:
	* shell/Makefile.am:
	* shell/rb-shell-preferences.c: (rb_shell_preferences_get_type),
	(rb_shell_preferences_class_init), (rb_shell_preferences_init),
	(rb_shell_preferences_finalize), (rb_shell_preferences_new),
	(rb_shell_preferences_window_delete_cb),
	(rb_shell_preferences_response_cb), (rb_shell_preferences_sync),
	(folders_selection_changed_cb), (get_folders), (get_rows),
	(music_base_folder_entry_changed_cb),
	(music_base_folder_browse_clicked_cb), (add_folder_clicked_cb),
	(remove_folder_clicked_cb), (include_audiocd_check_toggled_cb),
	(library_pref_changed), (folders_sync_to_gconf),
	(folders_row_edited_cb), (folders_treeview_key_press_event_cb):
	* shell/rb-shell-preferences.h:
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_cmd_quit),
	(rb_shell_cmd_music_folders):

	Add a prefswin (note that the watcher doesnt look to the prefs yet),
	glade helpers, and a filesel helper.

2002-06-14  Kenneth Christiansen  <kenneth@gnu.org>

	* po/POTFILES.skip: Skip some files.
	* po/POTFILES.in: Updated to reflect Jorn's latest changes.
	* po/da.po: Updated Danish translation.

2002-06-14  Jorn Baayen  <jorn@nl.linux.org>

	* views/rb-library-view.c: (rb_library_view_init),
	(rb_library_view_set_playing_node):

	Mark "Library" for translation.

2002-06-14  Jorn Baayen  <jorn@nl.linux.org>

	* data/rhythmbox.schemas:
	* lib/Makefile.am:
	* lib/e-splash.c:
	* lib/e-splash.h:
	* lib/eel-gconf-extensions.c:
	* lib/eel-gconf-extensions.h:
	* library/rb-library-watcher.c: (file_watcher_init),
	(file_watcher_release_brakes), (file_watcher_finalize),
	(check_dirs):
	* library/rb-library.c:
	* shell/rb-shell.c: (rb_shell_window_state_cb):
	* views/rb-library-view.c: (rb_library_view_set_property),
	(rb_library_view_paste), (paned_size_allocate_cb):

	Save library paned position, change gconf key names to lowercase,
	remove unused e-splash and eel-gconf-extensions.

2002-06-13  Jorn Baayen  <jorn@nl.linux.org>

	* Makefile.am:
	* NEWS:
	* configure.in:
	* data/Makefile.am:
	* data/glade/Makefile.am:
	* data/glade/music-folders.glade:
	* data/rhythmbox.schemas:
	* data/ui/rhythmbox-test-view.xml.in:
	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view.c: (rb_view_class_init), (rb_view_set_property),
	(rb_view_get_property), (rb_view_merge_ui), (rb_view_unmerge_ui):
	* lib/view/rb-view.h:
	* shell/Makefile.am:
	* shell/rb-shell.c: (rb_shell_init), (rb_shell_finalize),
	(rb_shell_construct), (rb_shell_window_state_cb),
	(rb_shell_window_load_state), (rb_shell_window_save_state),
	(rb_shell_select_view), (rb_shell_quit):
	* tests/Makefile.am:
	* tests/testview.c:
	* tests/testview.h:
	* tests/testview2.c: (rb_test_view2_new):
	* tests/testview2.h:
	* views/Makefile.am:
	* views/rb-library-view.c: (rb_library_view_get_type),
	(rb_library_view_class_init), (rb_library_view_init),
	(rb_library_view_finalize), (rb_library_view_set_property),
	(rb_library_view_get_property), (rb_library_view_new),
	(artist_node_selected_cb), (album_node_selected_cb),
	(rb_library_view_player_init), (rb_library_view_status_init),
	(rb_library_view_clipboard_init), (rb_library_view_set_shuffle),
	(rb_library_view_set_repeat), (rb_library_view_have_next),
	(rb_library_view_have_previous), (rb_library_view_next),
	(rb_library_view_previous), (rb_library_view_get_title),
	(rb_library_view_get_artist), (rb_library_view_get_album),
	(rb_library_view_get_song), (rb_library_view_get_duration),
	(rb_library_view_get_pixbuf), (rb_library_view_get_stream),
	(rb_library_view_start_playing), (rb_library_view_stop_playing),
	(rb_library_view_set_playing_node), (song_activated_cb),
	(node_view_changed_cb), (song_eos_cb),
	(rb_library_view_get_previous_node),
	(rb_library_view_get_next_node), (rb_library_view_status_get),
	(rb_library_view_can_cut), (rb_library_view_can_copy),
	(rb_library_view_can_paste), (rb_library_view_cut),
	(rb_library_view_copy), (rb_library_view_paste):
	* views/rb-library-view.h:

	Rename testview to rb-library-view, support unmerging menus,
	cleanup UI xml file, add prefs glade file, add schemas,
	general cleanup.

2002-06-13  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* shell/rb-shell.c: (rb_shell_construct),
	(rb_shell_window_state_cb), (rb_shell_window_load_state),
	(rb_shell_window_save_state), (rb_shell_quit): Added window state saving
	and loading.

2002-06-13  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_get_random_node):
	* shell/main.c: (main):

	Use glib random rather than system random.
	
	* shell/rb-shell.c:

	Fix duplicate config.h include.
	
	* tests/testview.c: (rb_test_view_start_playing):

	Get a random node when starting playing if shuffle is turned on.

2002-06-13  Kenneth Christiansen  <kenneth@gnu.org>

	* lib/eel-gconf-extensions.c:
	* lib/rb-file-helpers.c:
	* lib/widgets/rb-link.c:
	* lib/widgets/rb-player.c:
	* lib/widgets/rb-search-entry.c:
	* lib/widgets/rb-sidebar-button.c:
	* lib/widgets/rb-sidebar.c:
	* lib/widgets/rb-tree-model-node.c:
	* library/rb-library-thread.c:
	* library/rb-library.c:
	* shell/rb-shell-player.c:
	* shell/rb-shell.c:

	Make translations work. I think everything works now.

	* po/da.po: Updated Danish translation.

2002-06-12  Kenneth Christiansen  <kenneth@gnu.org>

        * po/POTFILES.in: Added new files.
	* data/rhythmbox.desktop.in: Fixed.
	* data/GNOME_Rhythmbox_Shell.server.in: Fixed.
	* po/da.po: Updated Danish translation.

2002-06-13  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_class_init), (rb_shell_finalize),
	(rb_shell_corba_quit), (rb_shell_window_delete_cb),
	(rb_shell_cmd_quit), (rb_shell_quit):

	Quitting cleanup.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/Makefile.in:
	* data/ui/rhythmbox-ui.xml.in:
	* shell/rb-shell.c: (rb_shell_init), (rb_shell_quit),
	(rb_shell_cmd_repeat), (rb_shell_cmd_about), (rb_shell_cmd_quit):

	An about box!!! :) And the quit menu item is working now.

2002-06-12  Kenneth Christiansen  <kenneth@gnu.org>

	* lib/widgets/rb-node-view.c: include config.h so translation work
	
2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/Makefile.am:
	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-albums.xml.in:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-artists.xml.in:
	* data/node-views/rb-node-view-songs.xml:
	* data/node-views/rb-node-view-songs.xml.in:

	De-intltoolized again... 

2002-06-12  Kenneth Christiansen  <kenneth@gnu.org>

	* po/da.po: Updated, so we can see that parts of i18n that works.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* shell/rb-shell-clipboard.c: (rb_shell_clipboard_class_init),
	(rb_shell_clipboard_finalize), (rb_shell_clipboard_set_property),
	(rb_shell_clipboard_get_property), (rb_shell_clipboard_new),
	(rb_view_clipboard_changed_cb), (rb_shell_clipboard_sync),
	(rb_shell_clipboard_cmd_cut), (rb_shell_clipboard_cmd_copy),
	(rb_shell_clipboard_cmd_paste), (rb_shell_clipboard_set),
	(rb_node_destroyed_cb):
	* tests/testview.c: (rb_test_view_get_type),
	(rb_test_view_clipboard_init), (rb_test_view_status_get),
	(rb_test_view_can_cut), (rb_test_view_can_copy),
	(rb_test_view_can_paste), (rb_test_view_cut), (rb_test_view_copy),
	(rb_test_view_paste):
	* tests/testview2.c: (rb_test_view2_get_type),
	(rb_test_view_clipboard_init), (rb_test_view_status_get),
	(rb_test_view_can_cut), (rb_test_view_can_copy),
	(rb_test_view_can_paste), (rb_test_view_cut), (rb_test_view_copy),
	(rb_test_view_paste):

	Implement clipboard.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_selection_changed_cb):

	Fix "node_selected" getting emitted twice.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* lib/view/rb-view-clipboard.c: (rb_view_clipboard_base_init),
	(rb_view_clipboard_notify_changed):
	* lib/view/rb-view-clipboard.h:

	Same trick for the clipboard.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* lib/view/rb-view-status.c: (rb_view_status_base_init),
	(rb_view_status_notify_changed):
	* lib/view/rb-view-status.h:
	* shell/rb-shell-status.c: (rb_shell_status_set_property):
	* tests/testview.c: (node_view_changed_cb):

	Fix duped "changed" signal ;)

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c:
	(gtk_tree_sortable_sort_column_changed_cb),
	(rb_node_view_get_status), (rb_node_view_status_foreach_cb):
	* lib/widgets/rb-node-view.h:
	* shell/rb-shell-status.c: (rb_shell_status_class_init),
	(rb_shell_status_init), (rb_shell_status_finalize),
	(rb_shell_status_set_property), (rb_shell_status_get_property),
	(rb_shell_status_new), (rb_shell_status_add_hint_cb),
	(rb_shell_status_remove_hint_cb), (rb_shell_status_sync),
	(rb_view_status_changed_cb):
	* shell/rb-shell-status.h:
	* shell/rb-shell.c: (rb_shell_construct):
	* tests/testview.c: (rb_test_view_get_type),
	(rb_test_view_finalize), (rb_test_view_status_init),
	(node_view_changed_cb), (rb_test_view_get_next_node),
	(rb_test_view_status_get):
	* tests/testview2.c: (rb_test_view2_get_type),
	(rb_test_view_status_init), (rb_test_view_stop_playing),
	(rb_test_view_status_get):

	Implement statusbar.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_construct):

	Run gettext on translatable strings from the xml files.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/Makefile.am:
	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml: removed
	* data/node-views/rb-node-view-albums.xml.in:
	* data/node-views/rb-node-view-artists.xml.in:
	* data/node-views/rb-node-view-songs.xml.in: added
	* lib/widgets/rb-node-view.c: (rb_node_view_construct):

	Make xml nodeview descriptions translatable.

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* data/node-views/Makefile.am:
	* data/node-views/rb-node-view-albums.xml:
	* data/node-views/rb-node-view-artists.xml:
	* data/node-views/rb-node-view-songs.xml:

2002-06-12  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:
	* shell/main.c:

	Enable i18n.

2002-06-12  Kenneth Christiansen  <kenneth@gnu.org>

	* configure.in:
	* po/POTFILES.in:
	* po/da.po:

	Danish translation.

2002-06-11  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view-clipboard.c: (rb_view_clipboard_base_init),
	(rb_view_clipboard_can_cut), (rb_view_clipboard_can_copy),
	(rb_view_clipboard_can_paste), (rb_view_clipboard_cut),
	(rb_view_clipboard_copy), (rb_view_clipboard_paste),
	(rb_view_clipboard_notify_changed):
	* lib/view/rb-view-clipboard.h:
	* lib/view/rb-view-status.c: (rb_view_status_base_init),
	(rb_view_status_get), (rb_view_status_notify_changed):
	* lib/view/rb-view-status.h:

	Implement RBViewStatus and RBViewClipboard interfaces.

2002-06-11  Jorn Baayen  <jorn@nl.linux.org>

	* tests/testview2.c: (rb_test_view2_get_type),
	(rb_test_view2_finalize), (rb_test_view2_new):
	* tests/testview2.h:

	Fix types.

2002-06-11  Jorn Baayen  <jorn@nl.linux.org>

	* library/node-utils.c:
	* library/node-utils.h:

	Remove more unused files.

2002-06-11  Jorn Baayen  <jorn@nl.linux.org>

	* lib/Makefile.am:
	* lib/rb-stream.c:
	* lib/rb-stream.h:

	Removed unused RBStream.

2002-06-11  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_init):

	Fix hscale oddness.
	
	* shell/rb-shell-player.c: (rb_shell_player_cmd_play),
	(rb_shell_player_cmd_pause):
	* tests/testview.c: (rb_test_view_init):

	Sync player widget with ViewPlayer when pausing or unpausing stream.

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* tests/testview.c: (song_eos_cb): emit changed signal

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/view/rb-view-player.c: (rb_view_player_get_duration):
	* lib/view/rb-view-player.h:
	* lib/widgets/rb-player.c: (rb_player_init), (rb_player_finalize),
	(rb_player_sync), (rb_player_set_show_timeline),
	(rb_player_sync_time), (rb_player_adjustment_changed_cb):
	* lib/widgets/rb-tree-model-node.c: (rb_tree_model_node_get_value):
	* library/rb-library-thread.c: (set_node_to_fileinfo):
	* library/rb-library.c:
	* shell/rb-shell.c: (rb_shell_finalize), (rb_shell_construct):
	* tests/testview.c: (rb_test_view_player_init),
	(rb_test_view_get_song), (rb_test_view_get_duration):

	Get slider and elapsed time label working.

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-player.c: (rb_player_init), (rb_player_finalize),
	(rb_player_set_property), (rb_player_new), (rb_player_sync),
	(rb_view_player_changed_cb), (rb_player_set_show_textline),
	(rb_player_set_show_timeline):

	Sync player widget with player object, only elapsed time
	and seeking hadnling left.
	
	* tests/testview.c: (rb_test_view_have_next),
	(rb_test_view_have_previous), (rb_test_view_next),
	(rb_test_view_previous), (song_eos_cb),
	(rb_test_view_get_previous_node), (rb_test_view_get_next_node):
	
	Fix prev/next sensitivity when in shuffle or repeat mode.

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* README: update cvs module name
	
	* data/ui/rhythmbox-ui.xml.in:
	* lib/rb-bonobo-helpers.c: (rb_bonobo_set_active),
	(rb_bonobo_get_active):
	* lib/rb-bonobo-helpers.h:
	* lib/view/rb-view-player.c:
	* lib/view/rb-view-player.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_get_first_node),
	(rb_node_view_get_random_node):
	* lib/widgets/rb-node-view.h:
	* shell/main.c: (main):
	* shell/rb-shell.c: (rb_shell_construct),
	(rb_shell_set_window_title), (rb_shell_cmd_shuffle),
	(rb_shell_cmd_repeat):
	* tests/testview.c: (rb_test_view_player_init),
	(rb_test_view_set_shuffle), (rb_test_view_set_repeat),
	(rb_test_view_next), (rb_test_view_previous):
	* tests/testview2.c: (rb_test_view_player_init):

	implement shuffle/repeat

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/rb-node-view.c: (rb_node_view_construct),
	(rb_node_view_get_node), (rb_node_view_get_first_node),
	(get_selection), (rb_node_view_row_activated_cb),
	(rb_tree_model_node_row_deleted_cb),
	(gtk_tree_sortable_sort_column_changed_cb): fix next and prev
	sensitivity.

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* shell/rb-shell.c: (rb_shell_corba_exception_to_string):
	fix strcmp (foo, bar != 0) ;)

2002-06-10  Olivier Martin <omartin@ifrance.com>

	* shell/rb-shell.c: fixed a bug in corba error handling

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* lib/view/rb-view-player.c: (rb_view_player_base_init),
	(rb_view_player_set_shuffle), (rb_view_player_set_repeat),
	(rb_view_player_next), (rb_view_player_previous),
	(rb_view_player_start_playing), (rb_view_player_stop_playing),
	(rb_view_player_notify_changed), (rb_view_player_notify_playing):
	* lib/view/rb-view-player.h:
	* lib/widgets/rb-node-view.c: (rb_node_view_get_node),
	(rb_node_view_get_first_node):
	* lib/widgets/rb-tree-model-node.c:
	(rb_tree_model_node_set_property):
	* shell/rb-shell-player.c: (rb_shell_player_set_property),
	(rb_shell_player_set_play_button),
	(rb_shell_player_set_playing_player),
	(rb_shell_player_player_start_playing_cb):
	* tests/testview.c: (rb_test_view_set_playing_node),
	(song_activated_cb), (node_view_changed_cb): fix most playing
	bugs

2002-06-10  Jorn Baayen  <jorn@nl.linux.org>

	* data/ui/rhythmbox-ui.xml.in:
	* lib/widgets/rb-node-view.c: (rb_node_view_class_init),
	(rb_node_view_set_property), (rb_node_view_construct),
	(rb_node_view_get_playing_node), (rb_node_view_get_node),
	(rb_node_view_get_next_node), (rb_node_view_get_previous_node),
	(rb_node_view_get_first_node), (rb_node_view_row_activated_cb),
	(rb_tree_model_node_row_inserted_cb),
	(rb_tree_model_node_row_deleted_cb):
	* lib/widgets/rb-node-view.h:
	* shell/rb-shell-player.c: (rb_shell_player_set_play_button):
	* tests/testview.c: (rb_test_view_finalize),
	(rb_test_view_set_property), (artist_node_selected_cb),
	(album_node_selected_cb), (rb_test_view_have_next),
	(rb_test_view_have_previous), (rb_test_view_next),
	(rb_test_view_previous), (rb_test_view_get_title),
	(rb_test_view_get_artist), (rb_test_view_get_album),
	(rb_test_view_get_song), (rb_test_view_get_stream),
	(rb_test_view_start_playing), (rb_test_view_stop_playing),
	(rb_test_view_set_playing_node), (song_activated_cb),
	(node_view_changed_cb), (song_eos_cb): rhythmbox plays!
	it's a bit buggy and unpolished though.. will fix tomorrow ;)

2002-06-09  Jorn Baayen  <jorn@nl.linux.org>

	* lib/widgets/Makefile.am: fix this makefile
	
	* shell/rb-shell-clipboard.c:
	* shell/rb-shell-status.c: some minor indent stuff

2002-06-09  Jorn Baayen  <jorn@nl.linux.org>

	* checked in new skels

2002-06-05  Jorn Baayen  <jorn@nl.linux.org>

	* Makefile.am: fix rpm builds

2002-06-01 Olivier Martin <omartin@ifrance.com>

	* queue/queue.c: updated the queue to handle seeking

2002-05-29  Jorn Baayen  <jorn@nl.linux.org>

	* acconfig.h (ADDED):
	* configure.in:
	* Makefile.am: refactor configure
	
	* queue/queue.c: take out seeking stuff for now so that we compile
	fine with the new monkeymedia.

2002-05-25  Rosanna Yuen  <zana@webwynk.net>

	* utils/e-splash.c (e_splash_construct): Going out on a limb and
	assuming that Rhyhtmbox isn't intentional...

2002-05-15  Jorn Baayen  <jorn@nl.linux.org>

	* playlist/library-thread.c:
	* queue/queue.c: quick and dirty port to the new monkeymedia
	
2002-05-05  Cody Russell  <cody@jhu.edu>

	* utils/Makefile.am: Fixed the libegg includes to be ../libegg/libegg

2002-04-20  Jorn Baayen <jorn@nl.linux.org>
	
	* playlist/songs-view.c: fix up songs_view_get_next, bad kris! :)
	
2002-04-20  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-private.c:
	* src/rhythmbox-automation.c: fix warnings

	* queue/queue.c: fix eos, this is a hack, need to really rewrite queue
	for the new mm

	* configure.in: put Werror back.
	
2002-04-18  James Willcox <jwillcox@cs.indiana.edu>

	* utils/rb-image-button.c: draw focus for proper a11y

2002-04-18  Jorn Baayen <jorn@nl.linux.org>

	* configure.in:
	* playlist/library-private.c:
	* playlist/library-thread.c:
	* queue/queue.c: port to new monkey-media

2002-04-17  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: install .schemas from $(srcdir)
	* configure.in: pump up version number
	* src/Makefile.am: added RhythmBoxAutomation.idl to the EXTRA_DIST

2002-04-14  Bastien Nocera  <hadess@hadess.net>

	* applet/Makefile.am: add GNOME_RhythmBoxApplet.xml to the dist
	* configure.in: disable -Werror for now, it's bad

2002-04-14  Bastien Nocera  <hadess@hadess.net>

	* */Makefile.am: use LTLIBRARIES instead of static ones,
	make sure that RhythmBoxAutomation.h exists when compiling the applet

2002-04-14  Jorn Baayen <jorn@nl.linux.org>

	* NEWS:
	* configure.in: bump version number to 0.2
	
	* applet/applet.c: turn of applet for release

2002-04-14  Jorn Baayen <jorn@nl.linux.org>

	* ui/prefs.c: fix prefs dialog getting filled too many times	
	
Sat Apr 13 23:57:04 2002  Kristian Rietveld  <kris@gtk.org>

	* utils/treeview-utils.[ch] (store_iter_to_sort_iter): remove the
	ugly return &iter2 hack
	(store_path_to_sort_path): free path1 (fix memleak)

	* playlist/library-ui.c (queue_request_next_cb): change usage
	of store_iter_to_sort_iter

	* playlist/songs-view.c: make this code more sane,
	rewrote parts of songs_view_get_first, songs_view_get_real_next,
	songs_view_get_real_prev, added songs_view_iter_in_sort_model

2002-04-13  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: added doc/

	* playlist/node-search.c: add simplified uri instead
	of name when it is NULL 

	* playlist/songs-view.c, ui/ui.c: small cleanups
	
2002-04-12  Thomas Vander Stichele <thomas@apestaart.org>

	Checked by Bastien Nocera <hadess@hadess.net>
 
       * added RhythmBoxAutomation.h in src to SOURCES so it gets built

2002-04-11  Jorn Baayen <jorn@nl.linux.org>

	* doc/rhythmbox.png: added png version of the design thing

2002-04-11  Jorn Baayen <jorn@nl.linux.org>

	* ui/sourcelist.c:
	* ui/sourcelist.h:
	* ui/ui.c:
	* ui/ui.h:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/state-manager.c:
	* playlist/state-manager.h: make the text in the cell in the sourcelist bold
	when the source is playing.

2002-04-11  Jorn Baayen <jorn@nl.linux.org>

	* Makefile.am:
	* doc/Makefile.am (ADDED):
	* doc/rhythmbox.dia (ADDED): add a simple
	dia file showing the overall design.

2002-04-11  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/songs-view.c:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h:
	* utils/rbtreemodelfilter.c:
	* utils/rbtreemodelfilter.h: get rid of all
	GtkTreeRowReference usage as Seth suggested on
	GUAD3C.

2002-04-08  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: "9 of 10" songs isntead of "9/10"

2002-04-08  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/source-manager.c:
	* utils/rbtreemodelfilter.c:
	* utils/rbtreemodelfilter.h:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h:
	* queue/queue.c: fix fixmies, use GtkTreeIters 
	rather than GtkTreeRowReferences in the songsview.

2002-04-06  Jorn Baayen <jorn@nl.linux.org>

	* playlist/playlist-ui.c:
	* ui/sourcelist.c:
	* ui/sourcelist.h:
	* ui/ui.c:
	* ui/ui.h: when adding a new playlist do not popup a dialog asking
	for a name but instead make the cell editable.

	* queue/queue.c: decrease maximum playing time value since gcc2
	didnt like it.

2002-04-02  Bastien Nocera  <hadess@hadess.net>

	* */Makefile.am, configure.in: don't hard-code the -export-dynamic
	flags and let libtool/automake figure it out

2002-04-02  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node.c: remove unused function

2002-04-01  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/source-manager.c:
	* playlist/state-manager.c: mark construct only properties as
	G_PARAM_CONSTRUCT_ONLY

2002-04-01  Jorn Baayen <jorn@nl.linux.org>

	* src/main.c:
	* src/main.h:
	* src/rhythmbox-automation.c:
	* src/rhythmbox-automation.h:
	* ui/ui.c: small exiting cleanup

2002-04-01  Jorn Baayen <jorn@nl.linux.org>

	* playlist/*.{c,h}:
	* queue/*.{c,h}:
	* utils/*.{c,h}: use G_{BEGIN,END}_DECLS in headers,
	add CVS ID to files.

2002-03-31  Jorn Baayen <jorn@nl.linux.org>

	* utils/Makefile.am:
	* utils/gtktreemodelfilter.* (REMOVED):
	* utils/rbtreemodelfilter.c: cleanup, use
	stock gtktreemodelfilter again.

2002-03-31  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/lcd.png:
	* ui/control-bar.c: lcd shadow uses theme colors. you'll need gtk
	cvs for this.

2002-03-31  Jorn Baayen <jorn@nl.linux.org>

	* utils/rbtreemodelfilter.c:
	* queue/queue.c: use properties

2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* utils/rb-image-button.c: fix broken redraw logic

2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/rhythmbox.glade:
	* ui/control-bar.c: do some spacing magic,
	use theme font in lcd. fixes worst ugliness.

2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/source-manager.c:
	* playlist/state-manager.c: g_object_install_property doesnt like 0 ids
	
2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node.c:
	* playlist/node-utils.c: fix wrong albums being
	returned by song_get_album

2002-03-29  Seth Nickell  <snickell@stanford.edu>

	* playlist/library-private.c:
	* utils/rb-image-button.c:

	#if'def out unused functions that cause -Werror problems in
	GCC 2.x
	
	* playlist/songs-view.c: (songs_view_init):

	Turn on horizontal scrolling again, pending the complete column
	resizing fix.
	
2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* playlist/file-watcher.c:
	* playlist/file-watcher.h:
	* playlist/library.c:
	* playlist/library.h:
	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/node.h:
	* playlist/node-search.h:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/songs-view.h:
	* playlist/source-manager.c:
	* playlist/source-manaher.h:
	* playlist/state-manager.c:
	* playlist/state-manager.h:
	* queue/queue.c:
	* queue/queue.h:
	* src/main.c: objects use properties now (and some more gobject-related
	cleanups)

2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* utils/Makefile.am:
	* utils/control-bar.c (ADDED):
	* utils/control-bar.h (ADDED):
	* utils/toolbar.c (REMOVED):
	* utils/toolbar.h (REMOVED):
	* utils/ui.h: rename toolbar files to control-bar
	
2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* utils/toolbar.c: don't unref tooltips on finalize,
	cuased shutdown warning

2002-03-30  Jorn Baayen <jorn@nl.linux.org>
	
	* utils/rb-image-button.c: fix insensitive

2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/rhythmbox.glade:
	* ui/toolbar.c:
	* utils/Makefile.am:
	* utils/gnome-image-button.c (REMOVED):
	* utils/gnome-image-button.h (REMOVED):
	* utils/rb-image-button.c (ADDED):
	* utils/rb-image-button.h (ADDED): add imagebutton rewrite by snorp,
	update toolbar code to use it. It's still got some issues though;
	expose seems borked (try to open a menu, the button gets mangled),
	and insensitive is, imho, ugly :)

	* queue/queue.c:
	* playlist/library-private.c: fix monkey-sound includes

2002-03-30  Jorn Baayen <jorn@nl.linux.org>

	* ui/toolbar.c:
	* ui/toolbar.h:
	* ui/ui.c:
	* ui/ui.h:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c: action buttons are now
	merged into the UI

	* rhythmbox.schemas:
	* configure.in:
	* playlist/file-watcher.c:
	* playlist/library.c:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/source-manager.c:
	* queue/queue.c:
	* ui/prefs.c:
	* ui/ui.c:
	* utils/Makefile.am:
	* utils/eel-gconf-extensions.c (ADDED):
	* utils/eel-gconf-extensions.h (ADDED):
	* utils/misc.c:
	* utils/state.c: add our own version of the gconf extensions
	(with some more extensions :P), remove eel dependency.
	(since eel isn't available anymore, we cannot use eel-stock-dialogs,
	so the code that used it is ifdeffed out for now)

	* playlist/songs-view.c: format track string to be prettier
	(9/12 -> 09/12, 2 -> 02)

	* playlist/library-ui.c:
	* playlist/songs-view.c: hide horizontal scrollbars.
	we need a way to tell the songsview treeview to give
	the columns the right size so they fit. havent found
	out yet how to do that though.

2002-03-29  Seth Nickell  <snickell@stanford.edu>

	* ui/data/rhythmbox-repeat.png:
	* ui/data/rhythmbox-shuffle.png:

	Create makeshift shuffle and repeat icons. They
	aren't great, but at least they communicate
	their respective concepts better than lightbulbs ;-)
	
	* ui/data/rhythmbox.glade:

	Make playlist management buttons non-homogeneous.

2002-03-29  Seth Nickell  <snickell@stanford.edu>

	* playlist/library-ui.c: (library_ui_init):
	* playlist/songs-view.c: (songs_view_init):
	* ui/data/Makefile.am:
	* ui/data/player.glade:
	* ui/data/rhythmbox.glade:
	* ui/sourcelist.c: (sourcelist_init), (sourcelist_finalize),
	(sourcelist_new), (treeview_get_selection_single),
	(sourcelist_init_interface):
	* ui/sourcelist.h:
	* ui/statusbar.c: (statusbar_init), (statusbar_finalize),
	(statusbar_new), (statusbar_init_interface):
	* ui/statusbar.h:
	* ui/toolbar.c: (control_bar_init), (control_bar_finalize),
	(control_bar_new), (build_string_for_display),
	(render_stock_pixbufs_if_necessary), (control_bar_init_interface):
	* ui/toolbar.h:
	* ui/ui.c: (ui_init):

	Use glade for all static (non-custom) widgetry. This makes it *much*
	easier to experiment with interface changes and add new items to the
	interface. Also makes it easier to clean up spacing and alignment.

	Also go back to search label below for the time being since everyone's
	all up in arms about that.
	
	Before people get annoyed at it being uglier, I'm not quite done ;-)

2002-03-28  Jorn Baayen <jorn@nl.linux.org>

	* playlist/playlist-ui.c:
	* playlist/library-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h: heavy songsview cleanup,
	should fix freezes when nothing is selected.

	* src/main.c: hide the window when shutting down,
	makes it look a bit more responsive.

2002-03-28  Jorn Baayen <jorn@nl.linux.org>

	* playlist/Makefile.am:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/source-manager.c:
	* playlist/state-manager.c (ADDED):
	* playlist/state-manager.h (ADDED): the source's playing state
	management is now done through state-manager.

2002-03-27  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c: squash some nasty little bugs

2002-03-27  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c: done with cleanups

2002-03-27  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-ui.c:
	* playlist/source-manager.c:
	* playlist/songs-view.c: cleanups, optimzations. still working
	on node_set_playing stuff, please don't touch.

2002-03-26  Seth Nickell  <snickell@stanford.edu>

	* playlist/library-private.c: (library_private_add_song):

	Add search nodes later so they already have album setup
	so we can add album search keys to them.
	
	* playlist/library.c: (library_add_uri):
	* playlist/library.h:

	Add more properties, this time for type.
	
	* playlist/node-search.c: (node_search_add_song),
	(create_combinations), (create_key_from_string):
	* playlist/node-search.h:

	Allow for searching by album and artist.
	
	* playlist/node-utils.c: (node_get_child_songs):
	* playlist/node-utils.h:

	Add a convenient function that retrieves all the songs
	at or beneath a given node.

2002-03-26  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h:
	* utils/Makefile.am:
	* utils/gtktreemodelfilter.c (ADDED):
	* utils/gtktreemodelfilter.h (ADDED):
	* utils/treeview-utils.c:
	* utils/treeview-utils.h:
	* utils/rbtreemodelfilter.c (ADDED):
	* utils/rbtreemodelfilter.h (ADDED): new RBTreeModelFilter object which does
	all the tricky filtering stuff for us, so we can keep the filtering code
	in the sources clean. Needed to make some stuff in gtktreemodelfilter
	global though (which will be fixed by _kris_ properly at some point).

2002-03-26  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c: remove "library_row" mess

	* playlist/playlist-ui.c: fix some searching issues

2002-03-26  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: make filtering more
	generic, searching works in the playlist too now.
	Need to remove the obsolete filtering bits from
	libraryui, will do that tonight.

2002-03-26  Jorn Baayen <jorn@nl.linux.org>

	* ui/ui.c: set window title to "RhythmBox" when not
	playing.

2002-03-26  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* ui/ui.c: fix crash when trying to play
	something with multiple playlsits.

	Also let me stress this again, *PLEASE* keep coding
	style consistent when adding stuff to existing files
	at least, spending my time fixing the mess is not
	the most exciting thing to do.

2002-03-25  Seth Nickell  <snickell@stanford.edu>

	* ui/toolbar.c: (control_bar_init):

	Make search box labeling HIG compliant and/or more usable.

2002-03-25  Seth Nickell  <snickell@stanford.edu>

	* ui/toolbar.c: (control_bar_init):

	Remove spacing between the "Search" label and the entry,
	add a keyboard shortcut for the search label, and point
	it at the entry.

2002-03-25  Seth Nickell  <snickell@stanford.edu>

	* playlist/library-ui.c: (node_set_playing):
	* playlist/node-utils.c: (song_get_album):
	* playlist/node-utils.h:
	* playlist/playlist-ui.c: (node_set_playing):
	* playlist/source-manager.c: (source_manager_release_brakes),
	(idle_func):
	* ui/toolbar.c: (control_bar_set_lcd_song),
	(control_bar_set_state), (colorify_lcd),
	(build_string_for_display):
	* ui/toolbar.h:
	* ui/ui.c: (ui_init), (ui_set_song), (ui_set_elapsed_time):
	* ui/ui.h:

	Clean up UI vs. data abstraction by moving display functions
	into the UI. This also allows us to set the window title
	without worrying about truncation (let the window manager or
	tasklist do that ;-).

	* src/main.c: (rb_shutdown):

	Get rid of the "shutdown" window. This was really bad UI.
	You should *desperately* avoid popping up windows the user
	did not ask for. "Splash" screens are offensive enough.
	
2002-03-25  Seth Nickell  <snickell@stanford.edu>

	* ui/toolbar.c: (control_bar_init):

	Raise the lcd-title font size to 12 pt.
	
2002-03-25  Jorn Baayen <jorn@nl.linux.org>

	* AUTHORS:
	* ui/ui.c: add olive
	
	* playlist/library-ui.c: fix some remaining issues

2002-03-25  Jorn Baayen <jorn@nl.linux.org>

	* ui/toolbar.c:
	* playlist/library-ui.c: push the limits

2002-03-25  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library.h:
	* playlist/library-private.h:
	* playlist/library-ui.c:
	* playlist/songs-view.c:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: clean up the mess with "All" nodes,
	optimize filtering performance.

2002-03-25  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c: improve searching performance

2002-03-25  Jorn Baayen <jorn@nl.linux.org>

	* rhythmbox.schemas:
	* playlist/library-ui.c: browser visiblity is saved now,
	off by default

	* ui/prefs.c: fix column selector

2002-03-25  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* ui/data/Makefile.am:
	* ui/data/action-library.png (REMOVED):
	* ui/data/action-playlist.png (REMOVED):
	* ui/data/rhythmbox-action-library.png (ADDED):
	* ui/data/rhythmbox-action-playlist.png (ADDED):
	* ui/icons.c:
	* ui/icons.h: register action icons with stock system

2002-03-25  Bastien Nocera  <hadess@hadess.net>

	* playlist/library-ui.c: (ui_source_selected_cb):
	* playlist/playlist-ui.c: (playlist_ui_set_manager),
	(node_set_playing), (ui_source_selected_cb):
	* ui/toolbar.c: (control_bar_set_action_button):
	cleanups and various NULL checks

2002-03-25  Bastien Nocera  <hadess@hadess.net>

	* playlist/library-ui.c: (ui_source_selected_cb):
	don't assume that it will find the pixmap
	* src/main.c: (handle_command_line): don't assert on server
	it will work fine without

2002-03-24  Olivier Martin <omartin@ifrance.com>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* ui/data/Makefile.am:
	* ui/data/action-library.png (ADDED):
	* ui/data/action-playlist.png (ADDED):
	* ui/toolbar.c: action button

2002-03-24  Jorn Baayen <jorn@nl.linux.org>

	* applet/Makefile.am:
	* applet/applet.c:
	* applet/applet.h (ADDED):
	* src/Makefile.am:
	* src/main.c:
	* src/rhythmbox-automation.c: put applet in the main executable,
	can be started using rhythmbox --new-applet. Doesnt work 
	yet though ;)
	
	* playlist/playlist-ui.c: use new searching stuff in playlist too,
	doesnt work yet. i need to do some treeview-util modding to get
	it to work, please leave it to me.

	* utils/treeview-utils.c:
	* utils/treeview-utils.h: remove unused stuff

2002-03-24  Seth Nickell  <snickell@stanford.edu>

	* playlist/library-ui.c:
	* playlist/library.c: (library_search):
	* playlist/node-search.c: (node_search_run_search):

	Comment out unused function for now. Get searching working.
	
2002-03-24  Seth Nickell  <snickell@stanford.edu>

	* playlist/Makefile.am:
	* playlist/library-private.c: (library_private_add_song),
	(remove_node_cb):
	* playlist/library-private.h:
	* playlist/library-thread.c: (update_song), (set_node_to_fileinfo):
	* playlist/library-ui.c: (add_artist), (add_album), (ui_query_cb):
	* playlist/library.c: (library_init), (library_finalize),
	(library_add_uri), (library_search):
	* playlist/library.h:
	* playlist/node-search.c: (node_search_get_type),
	(node_search_class_init), (node_search_init),
	(node_search_finalize), (node_search_new), (node_search_add_node),
	(node_search_run_search), (create_combinations),
	(create_key_from_string), (free_node_list):
	* playlist/node-search.h:
	* playlist/node-utils.c: (node_build_string_for_display):
	* playlist/songs-view.c: (songs_view_update_node_internal):

	Add search code and hook it in in a non-functioning way that hopefully
	Jorn will know how to do right ;-)
	
2002-03-24  Jorn Baayen <jorn@nl.linux.org>

	* src/RhythmBoxAutomation.idl:
	* src/main.c:
	* src/rhythmbox-automation.c:
	* ui/ui.c: add some commandline options

2002-03-24  Jorn Baayen <jorn@nl.linux.org>
	
	* applet/GNOME_RhythmBoxApplet_Factory.server.in:
	* src/RhythmBoxAutomation.idl:
	* src/main.c:
	* src/rhythmbox-automation.c: clean up our IDL, applet will
	live in the rhythmbox exe instaed of a separate app
	(saves a lot of dirty shouldThisAndThatBeSensitive corba calls).

2002-03-24  Jorn Baayen <jorn@nl.linux.org>

	* src/main.c:
	* src/rhythmbox-automation.c: fix up corba stuff, should work now

2002-03-24  Jorn Baayen <jorn@nl.linux.org>

	* src/main.c: reshuffle stuff to have an init() and
	shutdown() function, and add a small "Exiting..." window
	when rb quits. Not noticable on a fast box, but i think
	it's good feedback for slower machines.

	* playlist/library-ui.c: add a private function for showing & hiding the
	browser widgets for olive, who is working on the action button code.

2002-03-24  Bastien Nocera  <hadess@hadess.net>

	* src/main.c: (main), (init): no dirty global when not necessary,
	made at 3 o'clock... that's all i can do in 2 minutes

2002-03-23  Jorn Baayen <jorn@nl.linux.org>

	* ui/sourcelist.c: do not call gtk_notebook_remove_page, page will be removed
	when the source destroys itself.

	* playlist/playlist-ui.c: disconnect manager signals on finalize

2002-03-23  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.h:
	* playlist/songs-view.c: the SongsView is a GtkWidget now

2002-03-23  Jorn Baayen <jorn@nl.linux.org>

	* rhythmbox.schemas:
	* playlist/Makefile.am:
	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-manager.c (REMOVED):
	* playlist/playlist-manager.h (REMOVED):
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/source-manager.c (ADDED):
	* playlist/source-manager.h (ADDED):
	* src/main.c:
	* src/main.h:
	* ui/statusbar.c:
	* ui/toolbar.c:
	* ui/ui.c:
	* utils/Makefile.am:
	* utils/prefs-strings.h (REMOVED):
	* utils/state.c: clean up apis in playlist/, next thing i will do
	is make a Source object from which the playlistui, libraryui,
	and other sources will inherit (to remove some code duplication).

2002-03-22  Jorn Baayen <jorn@nl.linux.org>

	* Makefile.am:
	* configure.in:
	* rhythmbox.schemas:
	* GNOME_RhythmBox_Automation.server.in (ADDED):
	* applet/Makefile.am (ADDED):
	* applet/GNOME_RhythmBoxApplet.xml (ADDED):
	* applet/GNOME_RhythmBoxApplet_Factory.server.in (ADDED):
	* applet/applet.c (ADDED):
	* src/RhythmBoxAutomation.idl (ADDED):
	* src/main.c:
	* src/main.h:
	* src/rhythmbox-automation.c (ADDED):
	* src/rhythmbox-automation.h (ADDED):
	* playlist/library-ui.c:
	* playlist/playlist-manager.c:
	* playlist/playlist-manager.h:
	* playlist/playlist-ui.c:
	* ui/ui.c:
	* ui/ui.h:
	* ui/toolbar.c:
	* ui/toolbar.h:
	* utils/prefs-strings.h:
	* queue/queue.c:
	* queue/queue.h: beginnings of corba support, some totally b0rk applet
	skels, and the Queue object cleanup done. Lots of cleanups to come,
	and please ignore the corba and panel stuff for now - it's totally
	fucked up (will fix later, commiting now to avoid conflicts).

	Dont even think about fixing or even looking at corba/applet,
	i will change everything for sure. Just ignore those bits now.

2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* utils/lcdhscale.c: dont try to get arrow_displacement_x and y
	props since they are not available in older versions of gtk,
	and we dont use them.
	
2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* ui/prefs.c: song column not configurable anymore,
	since if it's not there you cannot select songs anymore.

2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node-utils.c: do not strlen if the string
	is NULL.
	
2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* utils/e-splash.c: remove gal dep

2002-03-21  Olivier Martin <omartin@ifrance.com>
            Jakub Steiner <jimmac@ximian.com>
	    Jorn Baayen <jorn@nl.linux.org>

	* ui/data/Makefile.am:
	* ui/data/splash.png:
	* ui/data/splash-ui.png (ADDED):
	* ui/data/splash-queue.png (ADDED):
	* ui/data/splash-library.png (ADDED):
	* utils/Makefile.am:
	* utils/e-splash.c (ADDED):
	* utils/e-splash.h (ADDED):
	* src/main.c: better and cooler splashscreen.

2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* ui/ui.c: ask for a name when adding a new playlist

2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-manager.c:
	* playlist/playlist-manager.h:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/songs-view.c:
	* playlist/songs-view.h: implement all of the "Edit" menu.

2002-03-21  Bastien Nocera  <hadess@hadess.net>

	* utils/misc.c: (string_request_dialog):
	* utils/misc.h: added string request helper function

2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* rhythmbox.schemas:
	* utils/prefs-strings.h:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-manager.c: save shuffle/repeat setting

2002-03-21  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/player.glade:
	* ui/ui.c:
	* ui/ui.h:
	* playlist/playlist-manager.c: implemented a lot of menubar stuff

2002-03-21  Seth Nickell  <snickell@stanford.edu>

	* ui/ui.c: (control_bar_search_activate_cb):

	*whew* Finally tracked down what was making the search bar
	segfault. Signal set to return NULL, but no value (or NULL)
	was being passed to it. So it trashed memory on the call
	return stack, causing gdb to be totally useless. I love
	the linux toolchain.

2002-03-20  Seth Nickell  <snickell@stanford.edu>

	* data/classification-mistakes.xml:

	Added a file for storing artists & albums that are
	really the same, and artists & albums that are similar
	and we want to make sure end up in different categories.

	Go through your music collection and add to this file
	so we'll have a good database to work from when we
	write this code!

2002-03-20  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-thread.c: if artist or album are NULL set them
	to "" so that they are put in the invisible "unknown" nodes.

2002-03-20  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: up libgnomecanvas dependency to 0.113.0
	
	* playlist/library-thread.c: use the polished fileinfo field

2002-03-20  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/songs-view.c: tracknum is a char* now

2002-03-20  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-private.c:
	* playlist/library-private.h:
	* playlist/library.c: fix "multiple artist" albums again. Seth,
	I didnt put the album_to_node hash back without reason. Songs
	with the same album string get grouped into one album again,
	but an album can have multiple parent artists (that is what
	the grandparent stuff is for, to discover the artist belonging
	to a song).

	This way you still can filter Artist->Album and see all the songs
	by just that artist from the album node, or you can view the whole
	album if you have the "All" artist selected.

2002-03-20  Jorn Baayen <jorn@nl.linux.org>

	* ui/toolbar.c: fix slider

2002-03-20  Jorn Baayen <jorn@nl.linux.org>

	* ui/Makefile.am:
	* ui/lcdhscale.c (ADDED):
	* ui/lcdhscale.h (ADDED):
	* ui/toolbar.c:
	* ui/toolbar.h:
	* ui/ui.c:
	* ui/ui.h:
	* playlist/playlist-manager.c: 
	* queue/queue.c:
	* queue/queue.h: implement a seek slider. Seeking wont
	work yet though since gnomevfssrc hasnt been updated for new gstreamer
	seeking bits yet.

2002-03-20  Seth Nickell  <snickell@stanford.edu>

	* playlist/library.c: (library_release_brakes):

	Bump up the refresh speed. This will make it more likely to bring
	out any threading errors (which we definitely want to root out,
	if any exist).

2002-03-20  Seth Nickell  <snickell@stanford.edu>

        Major rewrite of the library code... Now uses a background thread
	for disk I/O (actually, that's not entirely true, yet, but it will
	be, and ID3 reading is done entirely off the thread).

	It will load slightly slower from the XML library than before, but
	that is easy to fix. Performance of that will eventually be much
	faster, as we can now defer almost everything to post-display. The
	neat thing is if you delete the library and reload it will bubble
	files in very nicely :-)
	
	* playlist/Makefile.am:
	* playlist/library-private.c: (library_private_remove_song),
	(library_private_add_song), (library_private_build_id),
	(library_private_append_node_signal), (is_node),
	(library_private_add_artist_if_needed),
	(library_private_add_album_if_needed), (remove_node_cb):
	* playlist/library-private.h:
	* playlist/library-thread.c: (get_mtime), (library_thread_main),
	(update_song), (set_node_to_fileinfo):
	* playlist/library-thread.h:
	* playlist/library-ui.c: (node_created_cb):
	* playlist/library.c: (library_init), (library_release_brakes),
	(library_finalize), (library_add_uri), (library_remove_uri),
	(file_changed_cb), (update_song), (library_load_song_from_xml),
	(library_load_album_from_xml), (library_load_artist_from_xml),
	(get_mtime), (process_node_signals):
	* playlist/node-utils.c: (song_get_album),
	(node_build_string_for_display):
	* playlist/songs-view.c: (songs_view_update_node_internal):

	Rewrite to use threads, and fix code that made bad assumptions
	about nodes always having an Album or Artist associated with them.
	(It turns out the old i/o code was creating empty album and artist
	nodes, which is probably not a good thing)

	* src/main.c: (main):

	Initialize threading system if necessary, call "break in
	debugger" function.

	* src/Makefile.am:
	* src/debug.c:
	* src/debug.h:
	
	Add functions that allow for breaking in the debugger on Criticals
	and Warnings. Makes them *much* easier to track down. It should
	have no effect when the program is not run in a debugger.

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* playlist/playlist-manager.c:
	* queue/queue.c: fix async problems

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* queue/queue.c:
	* queue/queue.h: get elapsed time working

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/Makefile.am:
	* ui/data/rhythmbox-lcd-toggle.png (ADDED):
	* ui/toolbar.c:
	* ui/toolbar.h:
	* ui/ui.c:
	* ui/ui.h:
	* utils/node-utils.c:
	* utils/node-utils.h:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c: start working on lcd

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* ui/statusbar.c: make status label selectable
	
	* playlist/library-ui.c:
	* playlist/playlist-ui.c: missed a few statusbar update moments

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c: show statusbar messages

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* rhythmbox.schemas:
	* utils/prefs-strings.h:
	* playlist/playlist-manager.c:
	* queue/queue.h:
	* queue/queue.c: save/restore volume

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library-ui.c:
	* playlist/node.c:
	* playlist/node.h: make new xml saving code "grandparent-aware",
	dont put NULL albums/artists in treeviews again.

2002-03-19  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node.c:
	* playlist/node.h:
	* playlist/node-utils.c:
	* playlist/node-utils.h:
	* playlist/library.c: replace artist userdata hack with 
	node_get/set_grandparent.

2002-03-19  Seth Nickell  <snickell@stanford.edu>

	* playlist/library.c: (library_init), (library_add_uri),
	(library_save_artist_node), (library_load_song_from_xml),
	(library_load_album_from_xml), (library_load_artist_from_xml):
	* playlist/node.c: (node_init), (node_finalize), (node_new),
	(node_has_child), (node_set_xml_name), (save_string_property),
	(save_int_property), (save_child_node), (node_save_to_xml):
	* playlist/node.h:

	Make node saving functions completely generic and move them
	into the node itself. Now we can just set whatever properties
	we want on the node, and they'll get saved to disk without
	problems (can also recursively save children).
	
2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: fix export-dynamic stuff
	
	* playlist/songs-view.c:
	* playlist/songs-view.h: implement function that builds a statusbar
	message. will hook up to ui tomorrow.

2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node.c: fix removing "various artist" albums again

2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: add --export-dynamic

2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: depend on monkey-sound 0.4.1

	* playlist/library.c: use fileinfo polishing in monkey-sound

	* utils/treeview-utils.c: more utf8 aware sorting func

2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: remove all references to bonobo

2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* ui/data/*:
	* ui/Makefile.am:
	* ui/icons.c (ADDED):
	* ui/icons.h (ADDED):
	* ui/statusbar.c:
	* ui/toolbar.c:
	* src/main.c: register icons with the stock system

2002-03-18  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/playlist-ui.c: library/playlist code utf8 safe

	* playlist/songs-view.c: fix a deadlock
	
2002-03-17  Olivier Martin <omartin@ifrance.com>
            Jorn Baayen <jorn@nl.linux.org>

	* ui/data/Makefile.am:
	* ui/data/splash.png (ADDED):
	* ui/ui.c:
	* ui/ui.h:
	* src/main.c: splashscreen

2002-03-17  Jorn Baayen <jorn@nl.linux.org>

	* ui/toolbar.c: finally fix playbutton. I was using the wrong
	marshaller, feh.

2002-03-17  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* src/main.c: implement shuffle/repeat. Right lightbulb
	is repeat, left lightbulb is shuffle. We need proper images :)

2002-03-17  Jorn Baayen <jorn@nl.linux.org>

	* Makefile.am:
	* FAQ: added

2002-03-17  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: make more friendly to other auto* versions,
	fix by Jelmer Vernooij <jelmer@nl.linux.org>.

2002-03-17  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: invalidate rows after playing

2002-03-17  Jorn Baayen <jorn@nl.linux.org>
	
	* ui/prefs.c:
	* playlist/songs-view.c: share column strings array

2002-03-17  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: implement Smart Sorting[tm].
	Smart Sorting[tm] is a new and exciting technology that
	enables intelligent sorting of the playlist widget.
	(Example: if two albums have the same name, rb looks
	at the track. This results in better sorting)

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c: do mtime matching
	(startup time will the first prolly be huge, since there's no mtime yet
	and all songs will be re-checked)

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: songs_view_get_first returns the first
	node if no selection, or the selected node.

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: dont allow multiple copies of one node

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h: set number of items in "All" node

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library-ui.c:
	* playlist/node.c:
	* playlist/playlist-manager.c: single item addition/removal support

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: cleanup

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* rhythmbox.schemas:
	* playlist/songs-view.c:
	* ui/data/prefs.glade:
	* ui/prefs.c:
	* utils/prefs-strings.h: playlist column configurability

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* ui/sourcelist.c:
	* ui/sourcelist.h:
	* ui/ui.c:
	* ui/ui.h:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h:
	* playlist/library-ui.c: same trick, but give library priority

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c: sort album/artist lists by default,
	but keep "All" on the top.

2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h: if a song is paused, set a paused image
	into the songsview
	
2002-03-16  Jorn Baayen <jorn@nl.linux.org>

	* utils/treeview-utils.c:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h: cleanups, fix the play button

	* ui/data/prefs.glade: make explanation label selectable

2002-03-14  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/Makefile.am:
	* ui/data/lcd.png (ADDED):
	* ui/toolbar.c: beginnings of lcd stuff, i'm not sure rounded corners
	are a good idea - they're ugly imho.
	
2002-03-14  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/playlist-manager.c: save library again, fix library
	saving for the feared "Various artist albums". feared "Various artist albums". 

2002-03-13  Seth Nickell  <snickell@stanford.edu>

	* rhythmbox.desktop.in:
	* ui/data/player.glade:
	* ui/ui.c: (window_about_cb):

	Capitalize the name "RhythmBox" consistently.

2002-03-13  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node.c:
	* playlist/node.h:
	* playlist/node-utils.h:
	* playlist/library.c:
	* playlist/library-ui.c: fix item removal for double parented
	nodes (ie multiple artist albums). I dont like this double
	parenting shit... i dont know a better way to do it atm though :(

2002-03-13  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h:
	* utils/treeview-utils.c: search entry resets library browsing
	settings, browsing resets search entry.

2002-03-12  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:
	* rhythmbox.desktop:
	* rhythmbox.desktop.in:

	Use intltool for the .desktop file rather than putting the
	translations directly in the file.
	
	Revise to cover the things we currently can do, don't want users
	expecting more from RhythmBox than it currently does ;-) We can
	add things to the description once we support them.
	
2002-03-12  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* ui/ui.c;
	* ui/ui.h:
	* ui/toolbar.c:
	* ui/toolbar.h: clear search entry on source change

2002-03-12  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: check rewind/forward sensitivity on
	toggle selection change

2002-03-12  Jorn Baayen <jorn@nl.linux.org>

	* playlist/playlist-ui.c:
	* playlist/library-ui.c: init some vars to NULL

2002-03-12  Bastien Nocera  <hadess@hadess.net>

	* src/main.c: (main): new error dialog with details
	* utils/misc.c: (error_dialog_destroy),
	(error_dialog_with_details): new functions
	* utils/misc.h: new prototype

2002-03-12  Jorn Baayen <jorn@nl.linux.org>
	
	* playlist/library-ui.c: init some unused vars to NULL

2002-03-12  Jorn Baayen <jorn@nl.linux.org>

	* playlist/Makefile.am:
	* playlist/library.c:
	* playlist/node-utils.c (ADDED):
	* playlist/node-utils.h:
	* utils/treeview-utils.c: put albums with the same name (also from
	different artists) into one album node, but only show the songs
	that also belong to the selected artist when browsing.
	(This fixes #74348)

2002-03-12  Jorn Baayen <jorn@nl.linux.org>

	* src/main.c: remove bonobo stuff

2002-03-12  Olivier Martin <omartin@ifrance.com>

	* ui/toolbar.c: pack volume slider under the control buttons

2002-03-11  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* ui/toolbar.c:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: implement library/playlist searching
	-> needs optimization. Seth, you had some cool algo for a char
	tree right?

2002-03-10  Marco Pesenti Gritti <mpeseng@tin.it>

	* queue/queue.c: renaming to match new media
	object interface
	
2002-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/main.c: (main): more error checks, use dialog for error
	* utils/misc.c: (error_dialog): added error_dialog util function
	* utils/misc.h: added error_dialog header

2002-03-10  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: small cleanups
	* utils/treeview-utils.c:
	
2002-03-10  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: check rewind/forward sensitivity
	on filtering change

2002-03-10  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: fix a few bugs
	* ui/prefs.c: fix compile

2002-03-10  Jorn Baayen <jorn@nl.linux.org>

	* ui/prefs.c: prevent adding NULL watched dirs

==== RELEASED 0.1

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* ui/ui.c: make library directories menuitem work

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* all: Add Seth as an Official Developer :)

2002-03-09  Seth Nickell  <snickell@stanford.edu>

	* playlist/songs-view.c: (songs_view_update_node_internal):

	If there's no song name, display the file name.

2002-03-09  Seth Nickell  <snickell@stanford.edu>

        Move away from using a toolbar.
	
	* ui/data/player.glade:
	* ui/toolbar.c: (control_bar_get_type), (control_bar_class_init),
	(control_bar_init), (control_bar_finalize), (control_bar_new),
	(control_bar_set_ui), (control_bar_get_ui),
	(control_bar_set_action_button), (control_bar_get_action_button),
	(control_bar_set_lcd_text), (control_bar_get_lcd_text),
	(control_bar_set_state), (control_bar_get_state),
	(control_bar_set_rewind_sensitive),
	(control_bar_get_rewind_sensitive),
	(control_bar_set_forward_sensitive),
	(control_bar_get_forward_sensitive), (control_bar_set_volume),
	(control_bar_get_volume), (control_bar_set_offset),
	(control_bar_get_offset), (rewind_clicked_cb), (play_clicked_cb),
	(forward_clicked_cb), (volume_adjustment_value_changed_cb),
	(search_entry_activate_cb):
	* ui/toolbar.h:
	* ui/ui.c: (ui_init), (ui_finalize), (ui_set_state),
	(ui_set_can_rewind), (ui_set_can_forward), (ui_set_action_button),
	(ui_set_volume), (ui_set_offset), (ui_set_display),
	(control_bar_play_clicked_cb), (control_bar_rewind_clicked_cb),
	(control_bar_forward_clicked_cb), (control_bar_search_activate_cb),
	(control_bar_volume_changed_cb), (control_bar_offset_changed_cb),
	(control_bar_action_clicked_cb), (statusbar_shuffle_clicked_cb),
	(statusbar_repeat_clicked_cb), (statusbar_new_playlist_clicked_cb),
	(sourcelist_source_selected_cb), (sourcelist_source_deleted_cb),
	(sourcelist_source_edited_cb):
	* ui/ui.h:

	Renname functions from "toolbar" to "control_bar" so as not to
	cause confusion.
	
2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c: Finished "Operation Cleanup"

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h: optimize loading

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h: more cleanups, fixes

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* playlist/file-watcher.c:;
	* playlist/library.c:
	* playlist/library.h:
	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-manager.c: cleanups

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-view.h:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: optimized filtering, should work a lot
	faster now for large libraries.

2002-03-09  Jorn Baayen <jorn@nl.linux.org>

	* ui/statusbar.c: fix a warning

2002-03-08  Jorn Baayen <jorn@nl.linux.org>

	* ui/data/Makefile.am:
	* ui/data/prefs.glade (ADDED):
	* ui/Makefile.am:
	* ui/prefs.c (ADDED):
	* ui/ui.c: implement a simple prefswin

2002-03-08  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c:
	* playlist/playlist-ui.c: fix a few crashes

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-manager.c: fix "Play" behaviour

2002-03-08  Jorn Baayen <jorn@nl.linux.org>

	* playlist/playlist-ui.c: rename rbp file on name change,
	remove on delete.

2002-03-08  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library.h:
	* playlist/node.c:
	* playlist/node.h:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c: fix xml library loading, finish
	playlist loading/saving

2002-03-08  Jorn Baayen <jorn@nl.linux.org>
	
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/songs-view.c:
	* playlist/songs-view.h: fix crash on exit, beginnings
	of playlist saving (doesnt load yet).

	* README: added mailinglist and irc channel info

2002-03-08  Jorn Baayen <jorn@nl.linux.org>

	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c: fix sorting on playing time, fix bugs
	when a playing playlist or node was removed.

2002-03-07  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: fix get_first_item for empty sources
	
2002-03-07  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/songs-view.c:
	* playlist/songs-view.h:
	* queue/queue.c:
	* queue/queue.h:
	* ui/data/Makefile.am:
	* ui/data/stop.png (ADDED):
	* ui/toolbar.c:
	* ui/toolbar.h:
	* ui/ui.c:
	* ui/ui.h:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: playlist/library actions use the
	selection from the new checkboxes instead of the treeview
	selection, implement toolbar button behaviour like in iTunes.

2002-03-07  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c: dont write empty nodes

	* playlist/library.c: dont add non-existant songs from the xml
	file

	* other files: assorted fixes

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c: create the albums hashtable when an artist
	is read
	
2002-03-05  Seth Nickell  <snickell@stanford.edu>

	* playlist/file-watcher.c: (add_uri):

	Convert to a GnomeVFSURI first, and use GnomeVFS's path
	building functions. This ensures the URI is properly escaped,
	encoded, and some other nice things.
	
	* playlist/library.c: (library_save_song_node),
	(library_save_album_node), (library_save_artist_node),
	(library_save_to_file)

	Functions for saving the current library to disk. Eventually
	these should probably be moved into node.c
	
	* playlist/library.c: (library_load_song_from_xml),
	(library_load_album_from_xml), (library_load_artist_from_xml),
	(library_load_from_file)

	Functions for loading a library from disk. Eventually
	these should probably be moved into node.c
	
	* playlist/library.c: (library_init), (library_finalize)

	Deal with new structure, a list of nodes to be refreshed
	in the background.
	
	* playlist/library.c: (library_add_uri)

	If a Node already exists for this URI, use it. But make sure
	that we update it from disk in the background (add it to the
	list of nodes to be refreshed).
	
	* playlist/library.c: (file_changed_cb)

	Accomodate fixes to node.c and node.h to handle memory management
	and const strings consistently in their APIs.
	
	* playlist/library.h:

	Add new functions for loading and saving files.
	
	* playlist/node.c: (node_get_string_property),
	(node_get_int_property), (node_set_string_property),
	(node_set_int_property), (property_compare):
	* playlist/node.h:

	Deal with memory management better, use const where appropriate.
	
	* playlist/playlist-manager.c: (playlist_manager_release_brakes):

	Call load and save functions on the library. Really, we should
	call save in other places too, or maybe somewhere else entirely,
	(for example when you add individiual songs), but this fixes the
	worst bug from not saving, which is huge load time on new dirs.
	

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* ui/ui.c: add a missing return

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* TODO:
	* playlist/file-watcher.c:
	* playlist/library-ui.c:
	* playlist/library.c:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/songs-view.c:
	* playlist/songs-viwe.h:
	* queue/queue.c:
	* queue/queue.h:
	* ui/toolbar.c:
	* ui/ui.c: implement the play/rewind/forward toolbar buttons,
	and the volume slider.

2002-03-06  Seth Nickell  <snickell@stanford.edu>

	* playlist/file-watcher.c: (add_uri):

	Convert to a GnomeVFSURI first, and use GnomeVFS's path
	building functions. This ensures the URI is properly escaped,
	encoded, and some other nice things.

	* playlist/node.c: (node_get_string_property),
	(node_get_int_property), (node_set_string_property),
	(node_set_int_property), (property_compare):
	* playlist/node.h:

	Deal with memory management better, use const where appropriate.

	* src/main.c: (main):

	Use ~/.gnome/rhythmbox instead of ~/.rhythmbox, and build the
	path correctly using g_build_filename instead of g_strconcat (which
	can get the seperators wrong on some systems).

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* utils/glade.c: fix warning

	* HACKING: updated

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* configure.in: add -Werror to force people writing clean code

	* src/main.c: fix compiler warning

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* utils/Makefile.am: copy treeview stuff before compiling

2002-03-06  Jorn Baayen <jorn@nl.linux.org>

	* HACKING:
	* Makefile.am: add hacking guidelines

2002-03-05  Jorn Baayen <jorn@nl.linux.org>

	* playlist/songs-view.c: have the first column have the right size
	by default

2002-03-05  Jorn Baayen <jorn@nl.linux.org>

	* playlist/Makefile.am:
	* playlist/library-ui.c:
	* playlist/songs-view.c (ADDED):
	* playlist/songs-view.c (ADDED):
	* playlist/playlist-ui.c:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: split duplicate code from the sources
	out to shared files

2002-03-05  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library-ui.c:
	* playlist/node.c:
	* playlist/playlist-ui.h:
	* utils/treeview-utils.c:
	* utils/treeview-utils.h: fix all FIXMEs in playlist/

2002-03-05  Jorn Baayen <jorn@nl.linux.org>

	* playlist/file-watcher.c: load dir if a dir add was noticed

2002-03-05  Jorn Baayen <jorn@nl.linux.org>

	* THANKS: added

2002-03-05  Jorn Baayen <jorn@nl.linux.org>

	* playlist/file-watcher.c:
	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/library.c:
	* playlist/node.c:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* queue/queue.c:
	* ui/sourcelist.c: tons of fixes and cleanups

2002-03-04  Seth Nickell  <snickell@stanford.edu>

	* src/Makefile.am:
	* src/main.c: (main):

	Set the default icon.

2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* queue/queue.c: s/component/player, since monkey-sound isnt a component
	anymore.

	* configure.in: depend on monkey-sound 0.4

2002-03-04  Seth Nickell  <snickell@stanford.edu>

	* queue/queue.c: (queue_init), (queue_finalize), (queue_set_state),
	(queue_set_current_uri), (song_played_cb):

	Convert to use monkey-sound as library rather than monkey-sound
	as component ;-)

2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c: cleanups, fixes - still need to split out
	the duped code between the two to a separate file.

2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* playlist/playlist-manager.c: fix copy/paste, only allow
	one source to be playing at the time

2002-03-04  Seth Nickell  <snickell@stanford.edu>

	* playlist/file-watcher.c: (add_uri):

	Recurse into sub-directories (and monitor them, of
	course).

2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/playlist-ui.c:
	* playlist/playlist-ui.h:
	* ui/data/player.glade:
	* ui/ui.c:
	* ui/ui.h:
	* utils/Makefile.am:
	* utils/treeview-utils.c (ADDED):
	* utils/treeview-utils.h (ADDED): implement playlists. You can add
	stuff to a playlist by using the copy & paste menuitems. They arent
	saved yet though.

2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* ui/sourcelist.c: fix keynav

2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* playlist/Makefile.am:
	* playlist/playlist-manager.c:
	* playlist/playlist-ui.c (ADDED):
	* playlist/playlist-ui.h (ADDED):
	* playlist/playlist.h (REMOVED):
	* ui/sourcelist.c:
	* utils/prefs-strings.h: implement playlist skeletons, there's
	no way to copy songs into them yet.
	
2002-03-04  Jorn Baayen <jorn@nl.linux.org>

	* Makefile.am: add spec to DIST

2002-03-04  Bastien Nocera  <hadess@hadess.net>

	* utils/Makefile.am: copy the filter model files to the
	current dir from the libegg cvs included dir

2002-03-04  Bastien Nocera  <hadess@hadess.net>

	* playlist/library-ui.c: (add_song), (add_album):
	declarations are either at the top, or at the beginning of a new
	section in C, no C++-style "wherever you want" declarations,
	don't compare a boolean to a NULL pointer

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/node-utils.h: add some more node helpers to increase
	code readability

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/node.c:
	* playlist/node.h:
	* playlist/library-ui.c: cleanups
	* playlist/node-utils.h (ADDED): some handy node utils

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/Makefile.am:
	* ui/Makefile.am:
	* utils/Makefile.am:
	* utils/gtktreemodelfilter.{c,h}: we cvs include libegg now

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* src/library-ui.c: select "All" in the albums list when a different
	artist is selected

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* src/library-ui.c: take sort into account when jumping to next
	song

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* src/library-ui.c: remove treemodelfilter hacks, add a
	gtktreemodelsort so sorting works
	* utils/gtktreemodelfilter.{c,h}: updated

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* Makefile.am:
	* rhythmbox.desktop:
	* rhythmbox.png (ADDED): add appicon

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* configure.in:
	* Makefile.am: use intltool rather than xml-i18n-tools, install
	.desktop file

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* configure.in:
	* Makefile.am:
	* rhythmbox.spec (REMOVED):
	* rhythmbox.spec.in (ADDED): use @VERSION@ for spec generation,
	use AC_PATH_PROG to discover the location of gconftool-2.

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* TODO: updated

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* ui/Makefile.am:
	* ui/ui-marshal.list (REMOVED):
	* ui/ui.c:
	* ui/sourcelist.c:
	* utils/Makefile.am:
	* utils/rhythmbox-marshal.list (ADDED):
	* playlist/file-watcher.c: move marshal list to utils, add a BOOL_STRING
	marshal for the file watcher.

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c: fix requesting of next song when none can be found

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-manager.c: gobjectify LibraryUI, implement queueing
	and playing indication.

2002-03-03  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: don't do gconf fu if DESTDIR is set

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* playlist/library-ui.h:
	* playlist/playlist-manager.c:
	* queue/queue.c:
	* queue/queue.h: implement queue object, doubleclicking on an item
	in the library will start playing that row now. it doesnt switch
	to the next yet when it's done playing, but that wont be hard
	to add. Also ui playing reflection isnt done yet, will do tomorrow.
	Really need sleep now :)

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/file-watcher.c: support tilde in paths, check whether paths
	exist

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library.c:
	* playlist/library-ui.c: get filtering working, needed some hacks
	to wrok around treefilter bugs. A little unstable as well, *blames gtk*.

2002-03-03  Jorn Baayen <jorn@nl.linux.org>

	* rhythmbox.schemas: use ~/Music by default as watched dir

2002-03-02  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: hard-code gconftool-2

2002-03-02  Bastien Nocera  <hadess@hadess.net>

	* configure.in: gconf macro stuff

2002-03-02  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: use $(GCONFTOOL) macro instead of hardcoding
	gconftool

2002-03-02  Jorn Baayen <jorn@nl.linux.org>

	* playlist/library-ui.c:
	* utils/gtktreemodelfilter.{c,h} (ADDED): implement filtering.
	Doesnt work though. Seems like gtktreemodelfilter does do
	absolutely nothing. filter example works though, odd.

2002-03-02  Jorn Baayen <jorn@nl.linux.org>

	* all: library mostly functional again, only filtering is left
	to be implemented. There's no ui for setting the watched dirs yet,
	this needs to be done by setting the gconf key.

2002-03-01  Jorn Baayen <jorn@nl.linux.org>

	* all: lotsa new stuff, s/symphonia/rhythmbox, add hadess

2002-02-28  Jorn Baayen <jorn@nl.linux.org>

	* all: skeletons for most stuff, compiles again now

2002-02-27  Jorn Baayen <jorn@nl.linux.org>

	* all: everything reordered according to the new design, use
	mediaplayer-component

2002-02-01  Jorn Baayen <jorn@nl.linux.org>

	* component/fileinfo.c:
	* player/*: cleanups, fixes

2002-01-25  Jorn Baayen <jorn@nl.linux.org>

	* component/fileinfo.c: cleanups
	
	* player/Makefile.am:
	* player/window.c (ADDED):
	* player/window.h (ADDED): skeleton for a PlayerWindow object

	Let's start writing stuff in here ;)

2002-01-21  Marco Pesenti Gritti <mpeseng@tin.it>

	* configure.in:
	* component/Makefile.am: use pkgconfig for idl dirs
	
2002-01-21  Jorn Baayen <jorn@nl.linux.org>

	* AUTHORS (ADDED):
	* CHangeLog (ADDED):
	* NEWS (ADDED):
	* README (ADDED):
	* autogen.sh (ADDED):
	* configure.in (ADDED):
	* Makefile.am (ADDED):
	* component/Makefile.am (ADDED):
	* component/main.c (ADDED):
	* equalizer/Makefile.am (ADDED):
	* player/Makefile.am (ADDED):
	* playlist/Makefile.am (ADDED): initial stuff. we depend on gnome2, and
	gstreamer compiled with --enable-glib2. gstreamer2 needs libxml1, btw.
